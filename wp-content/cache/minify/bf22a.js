(function($,app){"use strict";function WpfFrontendPage(){this.$obj=this;this.noWoo=this.$obj.checkNoWooPage();this.readyFuncs=['.berocket_load_more_preload','woocommerce-product-bundle-hide','show_variation','.variations_form','yith_infs_start','flatsome_infinite_scroll','.dipl_woo_products_pagination_wrapper','divi_filter_loadmore_ajax_handler'];this.isSafari=navigator.vendor&&navigator.vendor.indexOf('Apple')>-1&&navigator.userAgent&&navigator.userAgent.indexOf('CriOS')==-1&&navigator.userAgent.indexOf('FxiOS')==-1;this.disableScrollJs=true;this.lastFids=[];return this.$obj;}
WpfFrontendPage.prototype.init=(function(){var _thisObj=this.$obj;app.wpfNewUrl='';_thisObj.filterClick=true;_thisObj.filteringId=0;_thisObj.setCurrentLocation();_thisObj.filterLoadTypes=[];_thisObj.defaultProductSelector='ul.products';_thisObj.isAdminPreview=jQuery('#wpfFiltersEditForm').length>0||(typeof isElementorPreview!='undefined'&&isElementorPreview==1);_thisObj.checkForceFilters();_thisObj.eventsPriceFilter();_thisObj.disableLeerOptions();_thisObj.eventsFrontend();_thisObj.changeSlugByUrl();_thisObj.runCustomJs();_thisObj.addCustomCss();_thisObj.chageRangeFieldWidth();_thisObj.addSpecificPluginActions();_thisObj.resizeWindow();_thisObj.changeOrderBy();_thisObj.copySelectsForSafari();jQuery('.wpfMainWrapper').each(function(){_thisObj.markCheckboxSelected(jQuery(this));});if(_thisObj.isAdminPreview){_thisObj.hideFiltersLoader();}else{setTimeout(function(){_thisObj.hideFiltersLoader();},100);}});WpfFrontendPage.prototype.changeOrderBy=(function(){jQuery('.woocommerce-ordering select').on('change',function(e){e.preventDefault();var orderBy=jQuery(this).val(),curUrl=window.location.href;if((curUrl.indexOf('?')===-1)){curUrl+='?orderby='+orderBy;jQuery('.wpfMainWrapper').each(function(){var filter=$(this).data('filter-settings');if(typeof filter.settings.filters.defaults!=='undefined'){curUrl+='&'+filter.settings.filters.defaults.replace(';','&');}});}else{if(curUrl.indexOf('orderby')===-1){curUrl+=((curUrl.indexOf('?')===-1)?'?':'&')+'orderby='+orderBy;}else{curUrl=curUrl.replace(/(orderby=)[^&]*/,'$1'+orderBy);}}
jQuery(location).attr('href',curUrl);return false;});});WpfFrontendPage.prototype.resizeWindow=(function(){var _thisObj=this.$obj;_thisObj.filterOptionsForDevices();jQuery(window).on('resize',function(){_thisObj.filterOptionsForDevices();});});WpfFrontendPage.prototype.copySelectsForSafari=(function(){var _thisObj=this.$obj;if(!_thisObj.isSafari)return;jQuery('.wpfMainWrapper').each(function(){var $wrapper=jQuery(this),$selectsWrapper=$wrapper.find('.wpfSelectCopies');if($selectsWrapper.length==0){jQuery('<div/>').addClass('wpfSelectCopies').appendTo($wrapper);$selectsWrapper=$wrapper.find('.wpfSelectCopies');}
if($selectsWrapper.length==0)return;$wrapper.find('.wpfFilterWrapper[data-display-type="dropdown"] select').each(function(){var $select=jQuery(this),$filter=$select.closest('.wpfFilterWrapper'),blockId=$filter.attr('id');if($selectsWrapper.find('select[data-block="'+blockId+'"]').length==0){$select.clone().attr('data-block',blockId).appendTo($selectsWrapper);}});_thisObj.removeHiddenOptionsForSafari($wrapper);});});WpfFrontendPage.prototype.restoreSelectsForSafari=(function(){var _thisObj=this.$obj;if(!_thisObj.isSafari)return;jQuery('.wpfMainWrapper').each(function(){var $wrapper=jQuery(this),$selectsWrapper=$wrapper.find('.wpfSelectCopies');if($selectsWrapper.length==1){$selectsWrapper.find('select').each(function(){var $select=jQuery(this),blockId=$select.attr('data-block'),$filterSelect=$wrapper.find('#'+blockId+' select');if($filterSelect.length==1){var value=$filterSelect.val();$filterSelect.html($select.html());$filterSelect.val(value);}});}});});WpfFrontendPage.prototype.removeHiddenOptionsForSafari=(function(){var _thisObj=this.$obj;if(!_thisObj.isSafari)return;jQuery('.wpfFilterWrapper[data-display-type="dropdown"] select:visible option').each(function(){if(jQuery(this).css('display')=='none')jQuery(this).remove();});});WpfFrontendPage.prototype.checkForceFilters=(function(){var forceShowFilter=jQuery('.wpfMainWrapper[data-force="1"]');if(!forceShowFilter.length)return;jQuery('.wpfMainWrapper').each(function(){var wrapper=jQuery(this),forceShowCurrent=wrapper.attr('data-force');if(!forceShowCurrent){wrapper.remove();if(wrapper.closest('.WpfWoofiltersWidget').length){wrapper.closest('.WpfWoofiltersWidget').remove();}}});});WpfFrontendPage.prototype.showFiltersLoader=(function(){jQuery('.wpfMainWrapper').each(function(){var wrapper=jQuery(this);wrapper.css('position','relative');if(!wrapper.find('.wpfLoaderLayout').length){jQuery('<div/>').addClass('wpfLoaderLayout').appendTo(wrapper);wrapper.find('.wpfLoaderLayout').append('<i class="fa fa-spinner fa-pulse fa-3x fa-fw"/>');}
wrapper.find('.wpfLoaderLayout').show();});});WpfFrontendPage.prototype.hideFiltersLoader=(function(){jQuery('.wpfMainWrapper').each(function(){var wrapper=jQuery(this);hideFilterLoader(wrapper);});});WpfFrontendPage.prototype.runCustomJs=(function(){var _thisObj=this.$obj;jQuery('.wpfMainWrapper').each(function(){var wrapper=jQuery(this),jsCodeStr='',settings=_thisObj.getFilterMainSettings(wrapper);if(settings){settings=settings.settings;jsCodeStr=settings.js_editor;}
if(jsCodeStr.length>0){try{eval(jsCodeStr);}catch(e){console.log(e);}}});});WpfFrontendPage.prototype.addCustomCss=(function(){if(jQuery('style#wpfCustomCss').length===0){var cssCodeStr='';jQuery('.wpfMainWrapper').each(function(){var wrapper=jQuery(this),customCss=jQuery('style#wpfCustomCss-'+wrapper.attr('data-viewid'));if(customCss.length){cssCodeStr+=customCss.html();customCss.remove();}});if(cssCodeStr.length>0){jQuery('<style type="text/css" id="wpfCustomCss">'+cssCodeStr+'</style>').appendTo('head');}}});WpfFrontendPage.prototype.chageRangeFieldWidth=(function(){var _thisObj=this.$obj;jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"]').each(function(){var filter=jQuery(this),input1=filter.find('#wpfMinPrice'),input2=filter.find('#wpfMaxPrice'),fontSize1=input1.css('font-size'),fontSize2=input2.css('font-size'),visbleBuffer1=filter.find('.wpfVisibleBufferMin'),visbleBuffer2=filter.find('.wpfVisibleBufferMax');if(fontSize1)visbleBuffer1.css('font-size',fontSize1);if(fontSize2)visbleBuffer2.css('font-size',fontSize2);jQuery(visbleBuffer1).text(input1.val());jQuery(visbleBuffer2).text(input2.val());if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){jQuery(input1).width(visbleBuffer1.width()+20);jQuery(input2).width(visbleBuffer2.width()+20);}else{jQuery(input1).width(visbleBuffer1.width()+10);jQuery(input2).width(visbleBuffer2.width()+10);}});});WpfFrontendPage.prototype.eventsPriceFilter=(function(){var _thisObj=this.$obj;jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"]').each(function(){_thisObj.initDefaultSlider(jQuery(this));});jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"]').on('wpfPriceChange',function(event){var filter=jQuery(this),mainWrapper=filter.closest('.wpfMainWrapper');mainWrapper.find('.wpfFilterWrapper[data-filter-type="wpfPriceRange"] input').prop('checked',false);mainWrapper.find('.wpfFilterWrapper[data-filter-type="wpfPriceRange"] select').val(mainWrapper.find('.wpfFilterWrapper[data-filter-type="wpfPriceRange"] select option:first').val());filter.removeClass('wpfNotActive');mainWrapper.find('.wpfFilterWrapper[data-filter-type="wpfPriceRange"]').addClass('wpfNotActive');});jQuery('.wpfFilterWrapper[data-filter-type="wpfPriceRange"] input, .wpfFilterWrapper[data-filter-type="wpfPriceRange"] select').on('change',function(e){e.preventDefault();jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"]').addClass('wpfNotActive');});});WpfFrontendPage.prototype.initDefaultSlider=(function(filter,type){var _thisObj=this.$obj,wrapper=filter.closest('.wpfMainWrapper'),filterType=typeof type!=='undefined'?type:'price',getAttr=filter.data('get-attribute'),minInputId='#wpfMinPrice',maxInputId='#wpfMaxPrice',triggerName='wpfPriceChange';if(filterType==='attr'){minInputId='#wpfMinAttrNum';maxInputId='#wpfMaxAttrNum';triggerName='wpfAttrSliderChange';}
var minSelector=wrapper.find(minInputId),maxSelector=wrapper.find(maxInputId),wpfDataStep=wrapper.find('#wpfDataStep').val()
if(wpfDataStep=='0.001'){wpfDataStep='0.00000001';}
wpfDataStep=Number(wpfDataStep);var valMin=parseFloat(minSelector.attr('min')),valMax=parseFloat(maxSelector.attr('max')),curUrl=window.location.href,urlParams=_thisObj.findGetParameter(curUrl),rate=filter.data('rate');urlParams=_thisObj.getConvertedPrices(urlParams,rate);var minPriceGetParams=urlParams.wpf_min_price?parseFloat(urlParams.wpf_min_price):valMin,maxPriceGetParams=urlParams.wpf_max_price?parseFloat(urlParams.wpf_max_price):valMax;if(filterType==='attr'){if(urlParams[getAttr]){var idsAnd=urlParams[getAttr].split(','),idsOr=urlParams[getAttr].split('|'),isAnd=idsAnd.length>idsOr.length;var filterTypeValues=isAnd?idsAnd:idsOr;}
minPriceGetParams=urlParams[getAttr]?parseFloat(filterTypeValues[0]):valMin;maxPriceGetParams=urlParams[getAttr]?parseFloat(filterTypeValues.pop()):valMax;}
var sliderWrapper=filter.find("#wpfSliderRange"),autoFilteringEnable=(wrapper.find('.wpfFilterButton').length==0),skin=filter.attr('data-price-skin');if(skin==='default'){sliderWrapper.slider({range:true,orientation:"horizontal",min:valMin,max:valMax,step:wpfDataStep,values:[minPriceGetParams,maxPriceGetParams],slide:function(event,ui){minSelector.val(ui.values[0]);maxSelector.val(ui.values[1]);filter.trigger(triggerName);},start:function(){filter.trigger(triggerName);},stop:function(){if(autoFilteringEnable){_thisObj.setCurrentLocation();_thisObj.filtering(wrapper);}},});minSelector.val(sliderWrapper.slider("values",0));maxSelector.val(sliderWrapper.slider("values",1));}});WpfFrontendPage.prototype.QStringWork=(function($attr,$value,$noWooPage,$filterWrapper,$type){$noWooPage=false;if(window.wpfAdminPage){$noWooPage=true;}
if($type==='change'){var curUrl=changeUrl($attr,$value,$noWooPage,$filterWrapper);$filterWrapper.attr('data-hide-url',decodeURI(curUrl));}else if($type==='remove'){var curUrl=removeQString($attr,$noWooPage,$filterWrapper);$filterWrapper.attr('data-hide-url',decodeURI(curUrl));}});WpfFrontendPage.prototype.eventChangeFilter=(function(e){var _thisObj=this.$obj,_this=jQuery(e.target),mainWrapper=_this.closest('.wpfMainWrapper'),settings=_thisObj.getFilterMainSettings(mainWrapper);_thisObj.setCurrentLocation();_this.closest('.wpfFilterWrapper').removeClass('wpfNotActive');if(typeof(_thisObj.eventChangeFilterPro)=='function'){_thisObj.eventChangeFilterPro(_this,settings);}
var redirectOnlyClick=Number(settings.settings.redirect_only_click),autoUpdateFilter=Number(settings.settings.auto_update_filter),loaderEnable=Number(settings.settings.filter_loader_icon_onload_enable),isButton=(mainWrapper.find('.wpfFilterButton').length>0),isCheckbox=_this.attr('type')=='checkbox',redirectLink=isCheckbox?_this.closest('li').attr('data-link'):_this.find('option:selected').attr('data-link');if(typeof redirectLink!=='undefined'&&isCheckbox){var filter=_this.closest('.wpfFilterWrapper');if(filter.attr('data-display-type')!='list'&&_this.is(':checked')){filter.find('input').prop('checked',false);_this.prop('checked',true);}}
if(isButton){if(autoUpdateFilter||redirectOnlyClick){if(loaderEnable){mainWrapper.find('.wpfLoaderLayout').show();}
_thisObj.filterClick=false;_thisObj.filtering(mainWrapper,false,redirectLink);}}else{_thisObj.filterClick=true;_thisObj.filtering(mainWrapper,false,redirectLink);}});WpfFrontendPage.prototype.eventsFrontend=(function(){var _thisObj=this.$obj,searchParams=jQuery.toQueryParams(window.location.search);if(searchParams['all_products_filtering']&&searchParams['all_products_filtering']=='1'){jQuery(document).ajaxSend(function(event,jqxhr,settings){if(settings.data){var response=_thisObj.unserializeStr(settings.data);if(response['action']&&response['action']=='us_ajax_grid'){if(response['template_vars']&&response['template_vars'].length){try{var query=JSON.parse(response['template_vars']);}catch(e){var query=false;}
if(query&&query['query_args']){var args=query['query_args'];if(args['product_cat'])delete args.product_cat;if(args['product_tag'])delete args.product_tag;response['template_vars']=JSON.stringify(query);var result=[];jQuery.each(response,function(key,val){result.push(encodeURIComponent(key)+"="+encodeURIComponent(val));});settings.data=result.join("&").replace(/%20/g,"+");}}}}});}
if(typeof window.wpfFetchHookCreated=='undefined'||window.wpfFetchHookCreated!=1){window.fetch=new Proxy(window.fetch,{apply(fetch,that,args){var url=args.length?args[0]:'';if(typeof url==='string'&&url.length){if(url.indexOf('wp-json/wc/store/index.html')!=-1&&url.indexOf('/products?')!=-1&&url.indexOf('per_page=')!=-1){var s=window.location.search;if(s.length)args[0]+=s.replace('?','&');}}
const result=fetch.apply(that,args);return result;}});window.wpfFetchHookCreated=1;}
jQuery(document).ajaxComplete(function(event,xhr,options){setTimeout(function(){if(jQuery('.wpfLoaderLayout:visible').length){window.wpfFrontendPage.init();if(typeof(window.wpfFrontendPage.eventsFrontendPro)=='function'){window.wpfFrontendPage.eventsFrontendPro();}}},500);});jQuery('.wpfMainWrapper').find('select[multiple]').each(function(){var select=jQuery(this),selectAll=select.attr('data-placeholder'),search=JSON.parse(select.attr('data-search')),singleSelect=select.data('single-select'),showCheckbox=(typeof select.data('hide-checkboxes')==='undefined');setTimeout(function(){select.multiselect({search:search.show,columns:1,placeholder:selectAll?selectAll:'Select options',optionAttributes:['style','data-term-id'],searchOptions:{'default':search.placeholder},showCheckbox:showCheckbox,onOptionClick:function(element,option){if(typeof singleSelect!=='undefined'){var value=jQuery(option).val();jQuery(option).closest('ul').find('input[type="checkbox"][value!='+value+']').prop('checked',false);jQuery(element).val(value);jQuery(element).siblings('.ms-options-wrap').find('.ms-options:visible').hide();}},});},100);if(search.show){jQuery('.ms-options-wrap').on('click','button',function(){$(this).next('.ms-options').find('.ms-search input').focus();});}});if(jQuery('.wpfFilterWrapper[data-filter-type="wpfSortBy"]').length==0){jQuery('.woocommerce-ordering').css('display','block');}
jQuery('.wpfFilterWrapper[data-hide-single="1"]').each(function(){var filter=jQuery(this),selector=filter.find('.wpfColorsFilter').length?'li[data-term-slug]':'[data-term-id]',visible=0;if(filter.attr('data-display-type')!='slider'){filter.find(selector).each(function(){if(jQuery(this).css('display')!='none')visible++;});if(visible<=1){filter.hide();}}});if(jQuery('.wpfFilterWrapper').length<1){jQuery('.wpfMainWrapper').addClass('wpfHidden');}
jQuery('body').on('mousedown','.wpfFilterButton, .js-wpfFilterButtonSearch',function(e){e.preventDefault();var $this=jQuery(this),mainWrapper=$this.closest('.wpfMainWrapper'),inputSearch=mainWrapper.find('.js-passiveFilterSearch');if(inputSearch.val()!==''){mainWrapper.find('.wpfFilterWrapper[data-filter-type="wpfSearchText"], .wpfFilterWrapper[data-filter-type="wpfSearchNumber"]').removeClass('wpfNotActive');}
inputSearch.trigger('blur');applyFilter(_thisObj,$this);});jQuery('input.js-passiveFilterSearch').on('keydown',function(e){var char_code=e.which;if(parseInt(char_code)==13){e.preventDefault();var $this=jQuery(this);$this.closest('.wpfFilterWrapper').removeClass('wpfNotActive');$this.trigger('blur');applyFilter(_thisObj,$this);}});jQuery('body').on('click','.wpfClearButton',function(e){e.preventDefault();var $filterWrapper=jQuery(this).closest('.wpfMainWrapper'),settings=_thisObj.getFilterMainSettings($filterWrapper),resetAllFilters=typeof settings.settings.reset_all_filters!=='undefined'?settings.settings.reset_all_filters:0;_thisObj.setCurrentLocation();if(resetAllFilters!=='0'){jQuery('.wpfMainWrapper').each(function(){_thisObj.clearFilters(jQuery(this).find('.wpfFilterWrapper'),true);});}else{_thisObj.clearFilters($filterWrapper.find('.wpfFilterWrapper'),true);}
if(Number(settings.settings.redirect_after_select)||Number(settings.settings.redirect_only_click)){_thisObj.filterClick=false;}
_thisObj.filtering($filterWrapper,true);if(typeof(_thisObj.initOneByOne)=='function'){_thisObj.initOneByOne($filterWrapper);}});jQuery('.wpfFilterWrapper[data-filter-type="wpfPriceRange"] .wpfFilterContent input').on('change',function(e){e.preventDefault();var input=jQuery(this),inputs=input.closest('.wpfFilterWrapper').find('input');if(input.is(":checked")){inputs.prop('checked',false);input.prop('checked',true);}});jQuery('.wpfFilterWrapper[data-filter-type="wpfCategory"], .wpfFilterWrapper[data-filter-type="wpfPerfectBrand"]').each(function(){var categoryFilter=jQuery(this),displayType=categoryFilter.data('display-type'),categoryMulti=displayType=='multi';categoryFilter.find('.wpfFilterContent input').on('change',function(e){e.preventDefault();var input=jQuery(this);if(categoryMulti){var mainWrapper=input.closest('.wpfMainWrapper'),filterWrapper=input.closest('.wpfFilterWrapper'),expandSelectedToChild=_thisObj.getFilterParam('f_multi_extend_parent_select',mainWrapper,filterWrapper);if(expandSelectedToChild&&input.is(':checked')){input.closest('li').find('ul input').prop('checked',true);}
if(expandSelectedToChild&&!input.is(':checked')){input.closest('li').find('ul input').prop('checked',false);}}});});jQuery('.wpfFilterWrapper[data-filter-type="wpfRating"] .wpfFilterContent input').on('change',function(e){e.preventDefault();var input=jQuery(this),inputs=input.closest('.wpfFilterWrapper').find('input');if(input.is(":checked")){inputs.prop('checked',false);input.prop('checked',true);}});jQuery('body').off('change','.wpfFilterWrapper select, .wpfFilterWrapper input:not(.passiveFilter)').on('change','.wpfFilterWrapper select, .wpfFilterWrapper input:not(.passiveFilter)',function(e){e.preventDefault();var isExeptionCase=_thisObj.checkExeptionCasesBeforeFiltering(this);if(!isExeptionCase){var $this=jQuery(this);if($this.is('input')&&$this.closest('.wpfFilterWrapper').data('display-type')=='mul_dropdown'){isExeptionCase=true;}}
if(!isExeptionCase){setTimeout(function(){_thisObj.eventChangeFilter(e);},100);}});jQuery('.wpfFilterWrapper input:not(.passiveFilter)').on('change',function(e){e.preventDefault();_thisObj.moveCheckedToTop(jQuery(this));_thisObj.detectSingleCheckbox(jQuery(this))
_thisObj.markCheckboxSelected(jQuery(this).closest('.wpfFilterWrapper'));});jQuery('.wpfFilterWrapper input:checked').each(function(){_thisObj.moveCheckedToTop(jQuery(this),false);});jQuery('.wpfFilterWrapper .wpfSearchFieldsFilter').on('keyup',function(e){var _this=jQuery(this),wrapper=_this.closest('.wpfFilterWrapper'),searchVal=_this.val().toLowerCase();wrapper.find('.wpfFilterContent li:not(.wpfShowFewerWrapper)').filter(function(){if(jQuery(this).find('.wpfValue').text().toLowerCase().indexOf(searchVal)>-1){jQuery(this).removeClass('wpfSearchHidden');}else{jQuery(this).addClass('wpfSearchHidden');}});if(typeof(_thisObj.initShowMore)=='function'){_thisObj.initShowMore(wrapper.find('.wpfFilterVerScroll'));}});jQuery('.wpfFilterWrapper .wpfSearchFieldsFilter').on('change',function(e){jQuery(this).closest('.wpfFilterWrapper').find('.wpfFilterContent li.wpfSearchHidden .wpfCheckbox input').prop('checked',false);});jQuery('body').off('click','.wpfSlugDelete').on('click','.wpfSlugDelete',function(){var _this=jQuery(this),wrapper=_this.closest('.wpfSlug'),filterType=wrapper.attr('data-filter-type'),filterAttr=wrapper.attr('data-get-attribute'),filterWrapper=false;_thisObj.setCurrentLocation();jQuery('.wpfFilterWrapper[data-filter-type="'+filterType+'"][data-get-attribute="'+filterAttr+'"]').each(function(){var $this=jQuery(this),filterType=$this.attr("data-filter-type");if(filterType=='wpfPrice'||filterType=='wpfPriceRange'){_thisObj.clearFilters($("[data-filter-type='wpfPrice']:not(.wpfSelectedParameter)"));_thisObj.clearFilters($("[data-filter-type='wpfPriceRange']:not(.wpfSelectedParameter)"));}else{_thisObj.clearFilters($this);}
if(filterWrapper==false){filterWrapper=$this.closest('.wpfMainWrapper');}});if(filterWrapper!=false){_thisObj.filtering(filterWrapper);}});jQuery('body').off('click','.wpfFilterWrapper .wpfFilterTitle').on('click','.wpfFilterWrapper .wpfFilterTitle',function(e){e.preventDefault();var _this=jQuery(this),wrapper=_this.closest('.wpfMainWrapper'),settings=_thisObj.getFilterMainSettings(wrapper),content=_this.closest('.wpfFilterWrapper').find('.wpfFilterContent');setTimeout(function(){var toggle=_this.find('i.wpfTitleToggle, svg'),icons={};if(toggle.length){if(typeof(_thisObj.getIcons)=='function'){icons=_thisObj.getIcons(toggle);}else{icons={collapsed:toggle.hasClass('fa-plus'),plusIcon:'fa-plus',minusIcon:'fa-minus'};}
if(settings.settings.hide_filter_icon!=='0'){if(icons.collapsed){_thisObj.openFilterToggle(toggle,content,true,icons);}else{_thisObj.closeFilterToggle(toggle,content,true,icons);}}}},100);});jQuery('body').off('click','.wpfFilterWrapper .wpfBlockClear').on('click','.wpfFilterWrapper .wpfBlockClear',function(){var parent=jQuery(this).closest(".wpfFilterWrapper"),parentAttr=parent.attr("data-filter-type");_thisObj.setCurrentLocation();if(parentAttr=='wpfPrice'||parentAttr=='wpfPriceRange'){_thisObj.clearFilters($("[data-filter-type='wpfPrice']:not(.wpfSelectedParameter)"));_thisObj.clearFilters($("[data-filter-type='wpfPriceRange']:not(.wpfSelectedParameter)"));}else{_thisObj.clearFilters(parent);}
_thisObj.filtering(parent.closest('.wpfMainWrapper'));return false;});jQuery('body').off('wpffiltering').on('wpffiltering',function(){_thisObj.setPagination(1);_thisObj.setCurrentLocation();_thisObj.filtering();_thisObj.setPagination(0);});jQuery('body').off('click','.wpfNoWooPage .woocommerce-pagination a.page-numbers').on('click','.wpfNoWooPage .woocommerce-pagination a.page-numbers',function(e){e.preventDefault();var _this=jQuery(this),paginationWrapper=_this.closest('.woocommerce-pagination'),currentNumber=paginationWrapper.find('.current').text();if(!_this.hasClass('next')&&!_this.hasClass('prev')){var number=_this.text();}else if(_this.hasClass('next')){var number=parseInt(currentNumber)+1;}else if(_this.hasClass('prev')){var number=(parseInt(currentNumber)-1)<1?parseInt(currentNumber)-1:1;}
var wrapper=jQuery('.wpfMainWrapper').first(),$queryVars=wrapper.attr('data-settings');try{var settings=JSON.parse($queryVars);}catch(e){var settings=false;}
if(settings){settings.paged=number;settings.pagination=1;wrapper.attr('data-settings',JSON.stringify(settings));}
_thisObj.setCurrentLocation();_thisObj.filtering(jQuery('.wpfMainWrapper'));_thisObj.setPagination(0);});var prevLocation=location.href.split('#').shift();jQuery(window).on('popstate',function(e){var currentLocation=location.href.split('#').shift();if(location.href.split('#').length>1&&prevLocation===currentLocation){return;}
if(typeof window.wpfAdminPage==='undefined'&&!_thisObj.isSafari){location.reload();}});});function applyFilter(_thisObj,$this){var mainWrapper=$this.closest('.wpfMainWrapper');_thisObj.setCurrentLocation();_thisObj.filterClick=true;_thisObj.filtering(mainWrapper);}
WpfFrontendPage.prototype.filterOptionsForDevices=(function(){var _thisObj=this.$obj;jQuery('.wpfMainWrapper .wpfFilterWrapper').each(function(){var _this=jQuery(this),wrapper=_this.closest('.wpfMainWrapper'),settings=_thisObj.getFilterMainSettings(wrapper),isMobile=false,screenSize=jQuery(window).width();if(settings.settings!==undefined){var isMobileBreakpoint=settings.settings.desctop_mobile_breakpoint_switcher,mobileBreakpoinWidth=isMobileBreakpoint&&isMobileBreakpoint=='1'?settings.settings.desctop_mobile_breakpoint_width:'0',displayFor=settings.settings.display_for,filterWidthDesktop=settings.settings.filter_width,filterWidthDesktopUnit=settings.settings.filter_width_in,filterWidthMobile=settings.settings.filter_width_mobile,filterWidthMobileUnit=settings.settings.filter_width_in_mobile,filterBlockWidthDesktop=settings.settings.filter_block_width,filterBlockWidthDesktopUnit=settings.settings.filter_block_width_in,filterBlockWidthMobile=settings.settings.filter_block_width_mobile,filterBlockWidthMobileUnit=settings.settings.filter_block_width_in_mobile;if(mobileBreakpoinWidth&&'0'!==mobileBreakpoinWidth){if(screenSize<=mobileBreakpoinWidth){isMobile=true;}
if(isMobile&&filterBlockWidthMobile!='0'){wrapper.css('width',filterWidthMobile+filterWidthMobileUnit);_this.css('width',filterBlockWidthMobile+filterBlockWidthMobileUnit);if(filterBlockWidthMobile+filterBlockWidthMobileUnit!='100%'){_this.css('float','left');}}else if(!isMobile&&filterBlockWidthDesktop!='0'){wrapper.css('width',filterWidthDesktop+filterWidthDesktopUnit);_this.css('width',filterBlockWidthDesktop+filterBlockWidthDesktopUnit);if(filterBlockWidthDesktop+filterBlockWidthDesktopUnit!='100%'){_this.css('float','left');}}
if(isMobile&&displayFor=='desktop'){wrapper.hide();}else if(!isMobile&&displayFor=='mobile'){wrapper.hide();}
_this.find('.wpfFilterTitle[data-show-on-mobile]').each(function(){jQuery(this).closest('.wpfFilterMainWrapper').find('wpfLoaderLayout').show();var showDesctop=jQuery(this).data('show-on-desctop'),showMobile=jQuery(this).data('show-on-mobile'),content=jQuery(this).closest('.wpfFilterWrapper').find('.wpfFilterContent'),title=jQuery(this).find('.wfpTitle'),icons={};title.show();var toggle=jQuery(this).closest('.wpfFilterWrapper').find('i.wpfTitleToggle, svg');setTimeout(function(){if(toggle.length){toggle.show();if(typeof(_thisObj.getIcons)=='function'){icons=_thisObj.getIcons(toggle);}else{icons={collapsed:toggle.hasClass('fa-plus'),plusIcon:'fa-plus',minusIcon:'fa-minus'};}
if(isMobile){if(showMobile=='yes_open'){_thisObj.openFilterToggle(toggle,content,false,icons);}else if(showMobile=='yes_close'){_thisObj.closeFilterToggle(toggle,content,false,icons);}else if(showMobile=='no'){_thisObj.openFilterToggle(toggle,content,false,icons);toggle.hide();title.hide();}}else{if(showDesctop=='yes_open'){_thisObj.openFilterToggle(toggle,content,false,icons);}else if(showDesctop=='yes_close'){_thisObj.closeFilterToggle(toggle,content,false,icons);}else if(showDesctop=='no'){_thisObj.openFilterToggle(toggle,content,false,icons);toggle.hide();title.hide();}}}},100);});}}});});WpfFrontendPage.prototype.checkExeptionCasesBeforeFiltering=(function(filterInput){var isExeption=false;if(jQuery(filterInput).parent().hasClass('wpfPriceCheckboxCustom')){var customPriceWrapper=jQuery(filterInput).closest('li'),customMin=customPriceWrapper.find('input[name=wpf_custom_min]').val(),customMax=customPriceWrapper.find('input[name=wpf_custom_max]').val();if(!customMin&&!customMax){isExeption=true;}}
return isExeption;});WpfFrontendPage.prototype.detectSingleCheckbox=(function(checkedInput){var filterWrapper=checkedInput.closest('.wpfFilterWrapper'),displayType=filterWrapper.data('display-type'),filterType=filterWrapper.data('filter-type');if(filterType=='wpfCategory'||filterType=='wpfPerfectBrand'||filterType=='wpfBrand'){var isOne=displayType=='list';}else{var isOne=displayType=='radio';}
if(isOne){var inputs=filterWrapper.find('input');if(checkedInput.is(':checked')){inputs.prop('checked',false);checkedInput.prop('checked',true);}}});WpfFrontendPage.prototype.moveCheckedToTop=(function(checkedInput,setPause){var _thisObj=this.$obj,sPause=setPause===false?0:200;setTimeout(function(){var checkboxWrapper=checkedInput.closest('li'),mainWrapper=checkedInput.closest('.wpfMainWrapper'),filterWrapper=checkedInput.closest('.wpfFilterWrapper'),isHierarchical=filterWrapper.data('show-hierarchical'),settings=_thisObj.getFilterMainSettings(mainWrapper),checkboxesWrapper=checkedInput.closest(isHierarchical?'ul':'.wpfFilterVerScroll');if(settings&&checkboxesWrapper.length){settings=settings.settings;var checkedItemsTop=settings.checked_items_top==='1',isExeptionCase=_thisObj.checkExeptionCasesBeforeFiltering(checkedInput);if(checkedItemsTop&&!isExeptionCase){if(checkedInput.is(":checked")){checkboxesWrapper.prepend(checkboxWrapper);}else{checkboxesWrapper.append(checkboxWrapper);checkboxesWrapper.append(checkboxesWrapper.find('.wpfShowFewerWrapper,.wpfShowMoreWrapper'));}
checkboxesWrapper.scrollTop(0);}}},sPause);});WpfFrontendPage.prototype.closeFilterToggle=(function(toggle,content,isTimeout,icons){if(toggle.hasClass(icons.minusIcon)){toggle.removeClass(icons.minusIcon);toggle.addClass(icons.plusIcon);content.addClass('wpfBlockAnimated');if(typeof isTimeout!=='undefined'&&isTimeout){setTimeout(function(){if(content.hasClass('wpfBlockAnimated'))content.addClass('wpfHide');},10);}else{if(content.hasClass('wpfBlockAnimated'))content.addClass('wpfHide');}}});WpfFrontendPage.prototype.openFilterToggle=(function(toggle,content,isTimeout,icons){if(toggle.hasClass(icons.plusIcon)){toggle.removeClass(icons.plusIcon);toggle.addClass(icons.minusIcon);content.removeClass('wpfHide');if(typeof isTimeout!=='undefined'&&isTimeout){setTimeout(function(){if(!content.hasClass('wpfHide'))content.removeClass('wpfBlockAnimated');},400);}else{if(!content.hasClass('wpfHide'))content.removeClass('wpfBlockAnimated');}}});WpfFrontendPage.prototype.setPagination=(function(pagination){var wrapper=jQuery('.wpfMainWrapper').first(),$queryVars=wrapper.attr('data-settings');try{var settings=JSON.parse($queryVars);}catch(e){var settings=false;}
if(settings){settings.pagination=pagination;wrapper.attr('data-settings',JSON.stringify(settings));}});WpfFrontendPage.prototype.setCurrentLocation=(function(){app.wpfOldUrl=window.location.href;app.wpfNewUrl=app.wpfOldUrl;});WpfFrontendPage.prototype.filtering=(function($filterWrapper,clearAll,redirectLink){var _thisObj=this.$obj;_thisObj.chageRangeFieldWidth();if(_thisObj.isAdminPreview)return;if(_thisObj.filterClick){_thisObj.createOverlay();}
if(typeof $filterWrapper=='undefined'||$filterWrapper.length==0){$filterWrapper=jQuery('.wpfMainWrapper').first();}
if(typeof(_thisObj.beforeFilteringPro)==='function'){_thisObj.beforeFilteringPro($filterWrapper);}
_thisObj.isSynchro=false;_thisObj.isStatistics=false;if($filterWrapper.length!==0){_thisObj.filteringId++;_thisObj.lastFids[$filterWrapper.data('viewid')]=_thisObj.filteringId;var $filtersDataBackend=[],$filtersDataFrontend=[],noWooPage=_thisObj.noWoo,$generalSettings=_thisObj.getFilterMainSettings($filterWrapper);_thisObj.isSynchro=$generalSettings['settings']['use_filter_synchro']&&($generalSettings['settings']['use_filter_synchro']=='1')?true:false;_thisObj.isStatistics=$filterWrapper.attr('data-is-stats')==1;if(_thisObj.isSynchro){_thisObj.syncronizeFilters($filterWrapper);}
(_thisObj.isSynchro?jQuery('.wpfMainWrapper'):$filterWrapper).find('.wpfFilterWrapper:not(.wpfNotActive), .wpfFilterWrapper.wpfPreselected').each(function(){var $filter=jQuery(this),filterType=$filter.attr('data-filter-type'),filterName=$filter.attr('data-get-attribute'),wrapper=$filter.closest('.wpfMainWrapper'),idFilter=wrapper.data('filter'),uniqId=$filter.attr('data-uniq-id'),allSettings=_thisObj.getFilterOptionsByType($filter,filterType),valueToPushBackend={},valueToPushFrontend={},logic=$filter.attr('data-query-logic'),isGroup=false,cgIndex=null;if(_thisObj.isStatistics&&typeof(_thisObj.prepareStatisticsData)=='function'){_thisObj.prepareStatisticsData($filter,allSettings);}
try{var order=JSON.parse(_thisObj.getFilterMainSettings(wrapper).settings.filters.order);jQuery.each(order,function(i,v){if(v.uniqId===uniqId){jQuery.each(v.settings,function(i,v){cgIndex=i.match(/^f_cglist\[(\d+)\]/);if(cgIndex!==null&&typeof cgIndex[1]!=='undefined'&&v!==''){isGroup=true;}});}});}catch(e){}
if(typeof logic==='undefined'){logic='or';}else if(logic=='not'){var notIds=$filter.attr('data-not-ids');if(notIds&&notIds.length>0){allSettings={backend:notIds.split(',')};}}
var withChildren=$filter.attr('data-query-children');if(typeof withChildren==='undefined'){withChildren='1';}
if(allSettings['backend'].length&&typeof allSettings['backend']!=='undefined'||filterType==='wpfSearchText'||filterType==='wpfSearchNumber'){valueToPushBackend['id']=filterType;valueToPushBackend['uniqId']=uniqId;valueToPushBackend['logic']=logic;valueToPushBackend['children']=withChildren;valueToPushBackend['settings']=allSettings['backend'];valueToPushBackend['name']=filterName;$filtersDataBackend.push(valueToPushBackend);}
if('frontend'in allSettings){valueToPushFrontend['id']=filterType;var logicDelimetrList={or:'|',and:',',not_in:';'}
valueToPushFrontend['delim']=logicDelimetrList[logic];valueToPushFrontend['children']=withChildren;valueToPushFrontend['settings']=allSettings['frontend'];valueToPushFrontend['name']=filterName;if(isGroup){valueToPushFrontend['idFilter']=idFilter;valueToPushFrontend['idBlock']=uniqId.replace(/^wpf/,'');}
$filtersDataFrontend.push(valueToPushFrontend);}});var redirectTerm=typeof redirectLink!=='undefined';if(redirectTerm||(typeof $filterWrapper.data('redirect-page-url')!=='undefined'&&_thisObj.filterClick)){history.pushState({state:1,rand:Math.random(),wpf:true},'',location.protocol+'//'+location.host+location.pathname);}
var filterId=$filterWrapper.data('filter');if(typeof filterId!=='undefined'){jQuery('span.wpfHidden').each(function(){var $span=jQuery(this),attribute=$span.data('shortcode-attribute'),fclass='wpf-filter-'+filterId;if((attribute.class!==''&&fclass===attribute.class)||$span.closest('.'+fclass).length){_thisObj.QStringWork('wpf_id',filterId,noWooPage,$filterWrapper,'change');}});}
_thisObj.changeUrlByFilterParams($filtersDataFrontend);_thisObj.QStringWork('wpf_reload','',noWooPage,$filterWrapper,'remove');var $queryVars=$filterWrapper.attr('data-settings'),$defQuery=$filterWrapper.attr('data-default-query'),$queryVarsSettings=JSON.parse($queryVars);var $filterSettings=$generalSettings===false?{}:{'wpf_fid':_thisObj.filteringId,'filter_recount':$generalSettings['settings']['filter_recount']&&($generalSettings['settings']['filter_recount']=='1')?true:false,'filter_recount_price':$generalSettings['settings']['filter_recount_price']&&($generalSettings['settings']['filter_recount_price']=='1')?true:false,'text_no_products':$generalSettings['settings']['text_no_products']?$generalSettings['settings']['text_no_products']:'','count_product_shop':$generalSettings['settings']['count_product_shop']?parseInt($generalSettings['settings']['count_product_shop']):0,'f_multi_logic':$generalSettings['settings']['f_multi_logic']?$generalSettings['settings']['f_multi_logic']:'and','remove_actions':$generalSettings['settings']['remove_actions']&&($generalSettings['settings']['remove_actions']=='1')?true:false,'filtering_by_variations':$generalSettings['settings']['filtering_by_variations']&&($generalSettings['settings']['filtering_by_variations']=='1')?true:false,'form_filter_by_variations':$generalSettings['settings']['form_filter_by_variations']&&($generalSettings['settings']['form_filter_by_variations']=='1')?true:false,'exclude_backorder_variations':$generalSettings['settings']['exclude_backorder_variations']&&($generalSettings['settings']['exclude_backorder_variations']=='1')?true:false,'display_product_variations':$generalSettings['settings']['display_product_variations']&&($generalSettings['settings']['display_product_variations']=='1')?true:false,'all_products_filtering':$generalSettings['settings']['all_products_filtering']&&($generalSettings['settings']['all_products_filtering']=='1')?true:false,'do_not_use_shortcut':$generalSettings['settings']['do_not_use_shortcut']&&($generalSettings['settings']['do_not_use_shortcut']=='1')?true:false,'use_category_filtration':$generalSettings['settings']['use_category_filtration']?$generalSettings['settings']['use_category_filtration']:1,'product_list_selector':$generalSettings['settings']['product_list_selector']?$generalSettings['settings']['product_list_selector']:'','product_container_selector':$generalSettings['settings']['product_container_selector']?$generalSettings['settings']['product_container_selector']:'','auto_update_filter':Number($generalSettings['settings']['auto_update_filter']),'redirect_only_click':Number($generalSettings['settings']['redirect_only_click']),'display_status_private':$generalSettings['settings']['display_status_private']&&($generalSettings['settings']['display_status_private']=='1')?true:false,};$filterSettings['sort_by_title']=($generalSettings['settings']['sort_by_title']!=undefined&&$generalSettings['settings']['sort_by_title']=='1'?true:false);if(typeof $defQuery!=='undefined'&&$defQuery.length)$filterSettings['default_query']=JSON.parse($defQuery);var productContainerSelector=_thisObj.fixSelector($filterSettings['product_container_selector'],''),productContainerElem=(productContainerSelector!=='')?jQuery(productContainerSelector):jQuery(document);$queryVars=JSON.parse($queryVars);var shortcode=jQuery('span[data-shortcode-attribute]',productContainerElem),$shortcodeAttr={};if(shortcode.length){$shortcodeAttr=shortcode.data('shortcode-attribute');if($shortcodeAttr['limit']>0){$queryVars['posts_per_page']=$shortcodeAttr['limit'];}
$queryVars['wc_loop_type']='shortcode';$queryVars['paginate_type']='shortcode';$queryVars['paginate_base']='product-page';}else{$queryVars['wc_loop_type']='loop';}
var $wppp=jQuery('.wppp-select').first();if($wppp.length){$queryVars['posts_per_page']=$wppp.val();}
$queryVars=JSON.stringify($queryVars);$shortcodeAttr=JSON.stringify($shortcodeAttr);if($filterSettings['count_product_shop']>0){_thisObj.QStringWork('wpf_count',$filterSettings['count_product_shop'],noWooPage,$filterWrapper,'change');}
if($filterSettings['sort_by_title']){_thisObj.QStringWork('wpf_order','title',noWooPage,$filterWrapper,'change');}
if($filterSettings['filtering_by_variations']&&!clearAll){_thisObj.QStringWork('wpf_fbv',1,noWooPage,$filterWrapper,'change');}
if($filterSettings['exclude_backorder_variations']&&!clearAll){_thisObj.QStringWork('wpf_ebv',1,noWooPage,$filterWrapper,'change');}
if($filterSettings['display_product_variations']&&!clearAll){_thisObj.QStringWork('wpf_dpv',1,noWooPage,$filterWrapper,'change');}
if($filterSettings['all_products_filtering']&&!clearAll){_thisObj.QStringWork('all_products_filtering','1',noWooPage,$filterWrapper,'change');}
if($filtersDataBackend.length===0){_thisObj.QStringWork('all_products_filtering','',noWooPage,$filterWrapper,'remove');}
if($filterSettings['f_multi_logic']!=='and'&&!clearAll){_thisObj.QStringWork('wpf_filter_tax_block_logic',$filterSettings['f_multi_logic'],noWooPage,$filterWrapper,'change');}
if($filtersDataBackend.length===0){_thisObj.QStringWork('wpf_filter_tax_block_logic','',noWooPage,$filterWrapper,'remove');}
_thisObj.QStringWork($queryVarsSettings['paginate_base'],'',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('product-page','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('shopPage','',noWooPage,$filterWrapper,'remove');var $woocommerceSettings={};if(jQuery('.wpfFilterWrapper[data-filter-type="wpfSortBy"]').length==0){var $wooCommerceSort=jQuery('.woocommerce-ordering select');if($wooCommerceSort.length>0){$woocommerceSettings['woocommercefSortBy']=$wooCommerceSort.eq(0).val();}}
var redirect=(typeof $filterWrapper.data('redirect-page-url')!=='undefined');if(history.pushState&&app.wpfNewUrl!=window.wpfOldUrl&&!redirect&&!redirectTerm){var newUrl=app.wpfNewUrl.indexOf('pr_search_')>0?app.wpfNewUrl.replace('+','%2b'):app.wpfNewUrl;history.pushState({state:1,rand:Math.random(),wpf:true},'',newUrl);app.wpfOldUrl=app.wpfNewUrl;_thisObj.changeSlugByUrl();}
if(redirectTerm||(redirect&&_thisObj.filterClick)){let queryString=app.wpfNewUrl.split('?')[1]||'';if(queryString!==''){jQuery(location).attr('href',(redirectTerm?redirectLink:$filterWrapper.data('redirect-page-url'))+'?'+queryString+'&redirect');}}else{if($generalSettings&&$generalSettings.settings.enable_ajax!=='1'){if(_thisObj.isStatistics){var requestData=_thisObj.getAjaxRequestData($filtersDataBackend,$queryVars,$filterSettings,$generalSettings,$shortcodeAttr,$woocommerceSettings);wpfDoActionsAfterLoad(_thisObj.filteringId,-1,requestData);}
if(_thisObj.isSafari||navigator.userAgent.match(/firefox|fxios/i))location.reload(true);else location.reload();return;}
_thisObj.currentFilterBackend=$filtersDataBackend;var customEvent=document.createEvent('Event');customEvent.initEvent('wpfAjaxStart',false,true);document.dispatchEvent(customEvent);_thisObj.currentLoadId=$filterWrapper.attr('id');_thisObj.sendFiltersOptionsByAjax(_thisObj.currentFilterBackend,$queryVars,$filterSettings,$generalSettings,$woocommerceSettings,$shortcodeAttr);if(_thisObj.isSynchro){jQuery('.wpfMainWrapper:not(#'+_thisObj.currentLoadId+')').each(function(){var $synchroWrapper=jQuery(this);$generalSettings=_thisObj.getFilterMainSettings($synchroWrapper);var requestData=_thisObj.getAjaxRequestData($filtersDataBackend,$queryVars,$filterSettings,$generalSettings,$shortcodeAttr,$woocommerceSettings);_thisObj.ajaxOnlyRecount(requestData,$synchroWrapper.attr('id'));});}}}});WpfFrontendPage.prototype.getAjaxRequestData=(function($filtersDataBackend,$queryVars,$filterSettings,$generalSettings,$shortcodeAttr,$woocommerceSettings){$generalSettings=$generalSettings?$generalSettings['settings']['filters']['order']:[];var typeSettings=typeof $generalSettings;if(typeSettings=='undefined')$generalSettings='[]';else if(typeSettings!='string')$generalSettings=JSON.stringify($generalSettings);return{mod:'woofilters',action:'filtersFrontend',filtersDataBackend:JSON.stringify($filtersDataBackend),queryvars:$queryVars,filterSettings:JSON.stringify($filterSettings),generalSettings:$generalSettings,shortcodeAttr:$shortcodeAttr,woocommerceSettings:JSON.stringify($woocommerceSettings),currenturl:window.location.href,};});WpfFrontendPage.prototype.createOverlay=(function(){jQuery('#wpfOverlay').css({'display':'block'});});WpfFrontendPage.prototype.removeOverlay=(function(){jQuery('#wpfOverlay').css({'display':'none'});});WpfFrontendPage.prototype.syncronizeFilters=(function($filterWrapper){var _thisObj=this.$obj,filterId=$filterWrapper.attr('id');$filterWrapper.find('.wpfFilterWrapper').each(function(){var $filter=jQuery(this),filterType=$filter.attr('data-filter-type'),filterDisplay=$filter.attr('data-display-type'),filterSlug=$filter.attr('data-slug'),filterTaxonomy=$filter.attr('data-taxonomy'),selector='.wpfMainWrapper:not(#'+filterId+') .wpfFilterWrapper[data-filter-type="'+filterType+'"]';if(filterDisplay)selector+='[data-display-type="'+filterDisplay+'"]';if(filterSlug)selector+='[data-slug="'+filterSlug+'"]';if(filterTaxonomy)selector+='[data-taxonomy="'+filterTaxonomy+'"]';var $synchroFilters=jQuery(selector);if($synchroFilters.length){$synchroFilters.find('input').prop('checked',false).trigger('wpf-synchro');$filter.find('input:checked').each(function(){var $li=jQuery(this).closest('[data-term-id]');if($li)$synchroFilters.find('[data-term-id="'+$li.attr('data-term-id')+'"] input').prop('checked',true).trigger('wpf-synchro');});if(filterType==='wpfPrice'){var min=$filter.find('#wpfMinPrice').val(),max=$filter.find('#wpfMaxPrice').val();$synchroFilters.each(function(){var $slider=jQuery(this);$slider.find('#wpfMinPrice').val(min);$slider.find('#wpfMaxPrice').val(max);});}else if(filterDisplay=='mul_dropdown'){$synchroFilters.find('select').val($filter.find('select').val());$synchroFilters.find('select.jqmsLoaded').multiselect('reload');}else if(filterDisplay=='text'){$synchroFilters.find('input').val($filter.find('input').val());}else{var value=$filter.find('select').val();$synchroFilters.find('select').each(function(){if(jQuery(this).find('option[value="'+value+'"]').length)jQuery(this).val(value);});}
if(typeof(_thisObj.syncronizeFiltersPro)=='function'){_thisObj.syncronizeFiltersPro($filter,$synchroFilters);}
if($filter.hasClass('wpfNotActive'))$synchroFilters.addClass('wpfNotActive');else $synchroFilters.removeClass('wpfNotActive');}});});WpfFrontendPage.prototype.clearFilters=(function(filter,clearAll){var _thisObj=this.$obj,noWooPage=_thisObj.noWoo,clearAll=typeof clearAll=='undefined'?false:true;(filter?filter:jQuery('.wpfFilterWrapper')).each(function(){var $filter=jQuery(this),$filterWrapper=$filter.closest('.wpfMainWrapper'),filterAttribute=$filter.attr('data-get-attribute'),filterType=$filter.attr('data-display-type'),defValue=$filter.attr('data-filter-default');if(typeof defValue==='undefined'){defValue='';}
filterAttribute=filterAttribute.split(",");var count=filterAttribute.length;for(var i=0;i<count;i++){_thisObj.QStringWork(filterAttribute[i],'',noWooPage,$filterWrapper,'remove');}
if($filter.hasClass('wpfHidden')){$filter.removeClass('wpfNotActive');}else{$filter.find('input').prop('checked',false);if(filterType=='mul_dropdown'){$filter.find('select').val('');$filter.find('select.jqmsLoaded').multiselect('reload');}else if(filterType=='text'){$filter.find('input').val('');}else{$filter.find("select").val($filter.find("select option:first").val());}
if(defValue.length&&clearAll){if(filterType=='dropdown'){$filter.find('select').val($filter.find('select option[data-term-slug="'+defValue+'"]').val());}else{$filter.find('li[data-term-slug="'+defValue+'"] input').prop('checked',true);}
$filter.removeClass('wpfNotActive');}else{$filter.addClass('wpfNotActive');}}
if($filter.attr('data-filter-type')==='wpfPrice'){var min=$filter.find('#wpfMinPrice').attr('min'),max=$filter.find('#wpfMaxPrice').attr('max');$filter.find('#wpfMinPrice').val(min);$filter.find('#wpfMaxPrice').val(max);jQuery("#wpfSliderRange").slider("option","values",[min,max]);}
if(typeof(_thisObj.clearFiltersPro)=='function'){_thisObj.clearFiltersPro($filter);}
if(typeof(_thisObj.eventChangeFilterPro)=='function'){_thisObj.eventChangeFilterPro($filter);}
if(clearAll){_thisObj.QStringWork('wpf_order','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('all_products_filtering','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('wpf_oistock','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('wpf_fbv','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('wpf_dpv','',noWooPage,$filterWrapper,'remove');_thisObj.QStringWork('wpf_ebv','',noWooPage,$filterWrapper,'remove');}});_thisObj.markCheckboxSelected(filter);});WpfFrontendPage.prototype.getFilterMainSettings=(function($selector){var settingsStr=$selector.attr('data-filter-settings');try{var settings=JSON.parse(settingsStr);}catch(e){var settings=false;}
if(settings===false){settingsStr=settingsStr.replace('}]"','}]').replace('"[{','[{');try{settings=JSON.parse(settingsStr);}catch(e){settings=false;}}
return settings;});WpfFrontendPage.prototype.getFilterParam=(function(paramSlug,mainWrapper,filterWrapper){var paramValue=null,_thisObj=this.$obj,mainSettings=_thisObj.getFilterMainSettings(mainWrapper),orderKey=filterWrapper.attr('data-order-key');if(mainSettings.settings.filters.order&&typeof orderKey!==undefined){var filtersOderList=JSON.parse(mainSettings.settings.filters.order);if(typeof filtersOderList[orderKey]!==undefined){var filterParamList=filtersOderList[orderKey].settings;if(typeof filterParamList[paramSlug]!==undefined){paramValue=filterParamList[paramSlug];}}}
return paramValue;});WpfFrontendPage.prototype.checkNoWooPage=(function(){var noWooPage=false;if(jQuery('.wpfMainWrapper').first().attr('data-nowoo')){noWooPage=true;}
return noWooPage;});WpfFrontendPage.prototype.changeLmpButton=(function(){var lmpBtn=jQuery('.br_lmp_button_settings .lmp_button');if(lmpBtn.length){var parentStyle=lmpBtn.parent().attr('style').replace(' ','');if(parentStyle.indexOf('display:none')>-1){return;}
var url=lmpBtn.attr('href').split('?')[0];url+=window.location.search;url=url.indexOf('/page/2')>-1?url:url.replace(/\/page\/[0-9]{1,}/ig,'/page/2');lmpBtn.attr('href',url);setTimeout(function(){jQuery('.woocommerce-pagination').addClass('wpfHidden');},1000);}});WpfFrontendPage.prototype.changeUrlByFilterParams=(function($filtersDataFrontend){var _thisObj=this.$obj,noWooPage=_thisObj.noWoo;if(typeof $filtersDataFrontend!=='undefined'&&$filtersDataFrontend.length>0){var count=$filtersDataFrontend.length,filterWrapper=jQuery('.wpfMainWrapper'),priceFlag=true;for(var i=0;i<count;i++){switch($filtersDataFrontend[i]['id']){case'wpfPrice':case'wpfPriceRange':if(priceFlag){var minPrice=$filtersDataFrontend[i]['settings']['wpf_min_price'],maxPrice=$filtersDataFrontend[i]['settings']['wpf_max_price'],tax=$filtersDataFrontend[i]['settings']['tax'];if(typeof minPrice!=='undefined'&&minPrice.length>0){_thisObj.QStringWork('wpf_min_price',minPrice,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('wpf_min_price','',noWooPage,filterWrapper,'remove');}
if(typeof maxPrice!=='undefined'&&maxPrice.length>0){_thisObj.QStringWork('wpf_max_price',maxPrice,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('wpf_max_price','',noWooPage,filterWrapper,'remove');}
if(typeof tax!=='undefined'){_thisObj.QStringWork('tax',tax,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('tax','',noWooPage,filterWrapper,'remove');}
priceFlag=false;}
break;case'wpfSortBy':var orderby=$filtersDataFrontend[i]['settings']['orderby'],oistock=$filtersDataFrontend[i]['settings']['oistock'];if(typeof orderby!=='undefined'&&orderby.length>0){_thisObj.QStringWork('orderby',orderby,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('orderby','',noWooPage,filterWrapper,'remove');}
if(typeof oistock!=='undefined'&&oistock==1){_thisObj.QStringWork('wpf_oistock',1,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('wpf_oistock','',noWooPage,filterWrapper,'remove');}
break;case'wpfCategory':case'wpfPerfectBrand':var product_cat=$filtersDataFrontend[i]['settings']['settings'],name=$filtersDataFrontend[i]['name'],delim=$filtersDataFrontend[i]['delim'];product_cat=product_cat.join(delim?delim:'|');if(typeof product_cat!=='undefined'&&product_cat.length>0){_thisObj.QStringWork(name,product_cat,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork(name,'',noWooPage,filterWrapper,'remove');}
break;case'wpfTags':var product_tag=$filtersDataFrontend[i]['settings']['settings'],name=$filtersDataFrontend[i]['name'],delim=$filtersDataFrontend[i]['delim'];product_tag=product_tag.join(delim?delim:'|');if(typeof product_tag!=='undefined'&&product_tag.length>0){_thisObj.QStringWork(name,product_tag,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork(name,'',noWooPage,filterWrapper,'remove');}
break;case'wpfAttribute':var product_taxonomy=$filtersDataFrontend[i]['settings']['taxonomy'],product_attr=$filtersDataFrontend[i]['settings']['settings'],delim=$filtersDataFrontend[i]['delim'];product_attr=product_attr.join(delim?delim:'|');if(typeof product_attr!=='undefined'&&product_attr.length>0){_thisObj.QStringWork(product_taxonomy,product_attr,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork(product_taxonomy,'',noWooPage,filterWrapper,'remove');}
if(typeof $filtersDataFrontend[i]['idBlock']!=='undefined'&&typeof $filtersDataFrontend[i]['idFilter']!=='undefined'){_thisObj.QStringWork('group'+product_taxonomy.replace('filter','')+$filtersDataFrontend[i]['idBlock'],$filtersDataFrontend[i]['idFilter'],noWooPage,filterWrapper,'change');}
break;case'wpfAuthor':var authorVal=$filtersDataFrontend[i]['settings']['settings'],name=$filtersDataFrontend[i]['name'],delim=$filtersDataFrontend[i]['delim'];authorVal=authorVal.join(delim?delim:'|');if(typeof authorVal!=='undefined'&&authorVal.length>0){_thisObj.QStringWork('pr_author',authorVal,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('pr_author','',noWooPage,filterWrapper,'remove');}
break;case'wpfFeatured':var featureVal=$filtersDataFrontend[i]['settings']['settings'];if(typeof featureVal!=='undefined'&&featureVal.length>0){_thisObj.QStringWork('pr_featured',featureVal,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('pr_featured','',noWooPage,filterWrapper,'remove');}
break;case'wpfOnSale':var onSaleVal=$filtersDataFrontend[i]['settings']['settings'];if(typeof onSaleVal!=='undefined'&&onSaleVal.length>0){_thisObj.QStringWork('pr_onsale',onSaleVal,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('pr_onsale','',noWooPage,filterWrapper,'remove');}
break;case'wpfInStock':var pr_stock=$filtersDataFrontend[i]['settings']['settings'];pr_stock=pr_stock.join(delim?delim:'|');if(typeof pr_stock!=='undefined'&&pr_stock.length>0){_thisObj.QStringWork('pr_stock',pr_stock,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('pr_stock','',noWooPage,filterWrapper,'remove');}
break;case'wpfRating':var ratingVal=$filtersDataFrontend[i]['settings']['settings'];if(typeof ratingVal!=='undefined'&&checkArray(ratingVal)&&ratingVal.length>0){_thisObj.QStringWork('pr_rating',ratingVal,noWooPage,filterWrapper,'change');}else{_thisObj.QStringWork('pr_rating','',noWooPage,filterWrapper,'remove');}
break;default:if(typeof(_thisObj.changeUrlByFilterParamsPro)=='function'){_thisObj.changeUrlByFilterParamsPro($filtersDataFrontend[i],noWooPage,filterWrapper);}
break;}}}else{return false;}});WpfFrontendPage.prototype.changeSlugByUrl=(function(){jQuery('.wpfSlugWrapper .wpfSlug').remove();var _thisObj=this.$obj,noWooPage=_thisObj.noWoo;if(noWooPage){if(jQuery('.wpfMainWrapper').first().attr('data-hide-url')){var searchParams=jQuery.toQueryParams(jQuery('.wpfMainWrapper').first().attr('data-hide-url'));}}else{var searchParams=jQuery.toQueryParams(window.location.search);}
for(var key in searchParams){if(key==='wpf_min_price'){key='wpf_min_price,wpf_max_price,tax';}
if(jQuery('.wpfFilterWrapper[data-get-attribute="'+key+'"]').length>0){var elem=jQuery('.wpfFilterWrapper[data-get-attribute="'+key+'"]').first(),$slug=elem.attr('data-slug'),$label=elem.attr('data-label'),$title=elem.attr('data-title'),$getAttr=elem.attr('data-get-attribute'),$filterType=elem.attr('data-filter-type');if(typeof $title!='undefined')$label=$title;else if(typeof $label=='undefined')$label=$slug;var html='';if(jQuery('.wpfSlugWrapper').length>0){if(!jQuery('.wpfSlugWrapper .wpfSlug[data-slug="'+$slug+'"]').length>0){html+='<div class="wpfSlug" data-slug="'+$slug+'" data-get-attribute="'+$getAttr+'" data-filter-type="'+$filterType+'"><div class="wpfSlugTitle">'+$label+'</div><div class="wpfSlugDelete">x</div></div>';jQuery('.wpfSlugWrapper').append(html);}}else{if(!jQuery('.wpfSlugWrapper .wpfSlug[data-slug="'+$slug+'"]').length>0){html+='<div class="wpfSlugWrapper">';html+='<div class="wpfSlug" data-slug="'+$slug+'" data-get-attribute="'+$getAttr+'" data-filter-type="'+$filterType+'"><div class="wpfSlugTitle">'+$label+'</div><div class="wpfSlugDelete">x</div></div>';html+='</div>';jQuery('.storefront-sorting').append(html);}}}}});WpfFrontendPage.prototype.sendFiltersOptionsByAjax=(function($filtersDataBackend,$queryVars,$filterSettings,$generalSettings,$woocommerceSettings,$shortcodeAttr){var _thisObj=this.$obj,$wrapperSettings=[];if(window.wpfAdminPage){return false;}
_thisObj.currentAjaxJSLoaded=false;_thisObj.currentProductBlock=false;if(_thisObj.filterLoadTypes[_thisObj.currentLoadId]&&_thisObj.filterLoadTypes[_thisObj.currentLoadId]=='reload'){location.reload();return;}
var ajax_leave_products=$generalSettings&&$generalSettings['settings']&&$generalSettings['settings']['ajax_leave_products']=='1'
if(typeof $generalSettings!=='undefined'){$wrapperSettings=$generalSettings['settings'];}
var customListSelector=$filterSettings['product_list_selector'],productListSelector=_thisObj.fixSelector(customListSelector,_thisObj.defaultProductSelector),productContainerSelector=_thisObj.fixSelector($filterSettings['product_container_selector'],''),forceThemeTemplates=($wrapperSettings['force_theme_templates']==1);var productContainerElem=(productContainerSelector!=='')?jQuery(productContainerSelector):jQuery(document);if(productContainerElem.length===0){location.reload();return;}
var productListElem=jQuery(productListSelector,productContainerElem);if(productListElem.hasClass('wpfNoWooPage')||productListElem.closest('.wpfNoWooPage').length){forceThemeTemplates=false;}
if(productListElem.length&&(_thisObj.filterClick)){if(_thisObj.enableFiltersLoaderPro&&ajax_leave_products){_thisObj.enableFiltersLoaderPro(_thisObj.currentLoadId,productListElem);}else{_thisObj.enableFiltersLoader(_thisObj.currentLoadId,productListElem);}}
var onlyRecount=false;if($filterSettings===undefined){$filterSettings=[];}else{if(!_thisObj.filterClick&&$filterSettings.auto_update_filter&&!$filterSettings.redirect_only_click){onlyRecount=true;}}
var requestData=_thisObj.getAjaxRequestData($filtersDataBackend,$queryVars,$filterSettings,$generalSettings,$shortcodeAttr,$woocommerceSettings);if(onlyRecount){_thisObj.ajaxOnlyRecount(requestData,_thisObj.currentLoadId,$wrapperSettings);return;}else if(forceThemeTemplates||_thisObj.filterLoadTypes[_thisObj.currentLoadId]=='force'){_thisObj.ajaxForceThemeTemplates(productContainerSelector,productListSelector,requestData,$wrapperSettings);return;}
if(window.InfiniteScroll&&window.InfiniteScroll.prototype){if(_thisObj.filterClick&&jQuery('body').hasClass('theme-flatsome')){location.reload();return;}}
_thisObj.filterLoadTypes[_thisObj.currentLoadId]='ajax';jQuery.sendFormWpf({data:requestData,onSuccess:function(res){if(!res.error){if('jscript'in res.data){_thisObj.setAjaxJScript(res.data['jscript']);}
if(_thisObj.filterClick){if(customListSelector!==''&&productListElem.length){var loopContainer=productListElem;loopContainer.html(res.data['productHtml']);}else{var catSelector=wpfGetSelector(res.data['categoryHtml'],true,_thisObj.defaultProductSelector,1,false,productContainerElem),loopSelector=wpfGetSelector(res.data['loopStartHtml'],true,_thisObj.defaultProductSelector,3,false,productContainerElem),loopContainer=jQuery(loopSelector,productContainerElem);if(!loopContainer.length){loopSelector=wpfGetSelector(res.data['loopStartHtml'],true,_thisObj.defaultProductSelector,3,true,productContainerElem);loopContainer=jQuery(loopSelector,productContainerElem);}
loopContainer.prev('.brand-description').remove();if(typeof res.data['beforeProductHtml']!=='undefined'){loopContainer.before('<div class="brand-description">'+res.data['beforeProductHtml']+'</div>');}
if(typeof jQuery('.product-categories-wrapper',productContainerElem)!=='undefined'&&jQuery('.product-categories-wrapper > ul.products',productContainerElem).length>0){if(res.data['categoryHtml'].length){jQuery('.product-categories-wrapper > ul.products',productContainerElem).html(res.data['categoryHtml']);}
jQuery(_thisObj.defaultProductSelector,productContainerElem).eq(1).html(res.data['productHtml']);}else if(jQuery('.elementor-widget-container ul.products',productContainerElem).length>0){jQuery('.elementor-widget-container ul.products',productContainerElem).each(function(){if(!jQuery(this).find('.product-category').length){jQuery(this).html(res.data['categoryHtml']+res.data['productHtml']);}});}else if(jQuery('.woocommerce > .products[data-filterargs][data-innerargs]',productContainerElem).length>0){jQuery('.woocommerce > .products[data-filterargs][data-innerargs]',productContainerElem).html(res.data['categoryHtml']+res.data['productHtml']);}else{if(!loopContainer.length){if(!jQuery('.wpfMainWrapper',productContainerElem).attr('data-nowoo')!==typeof undefined&&!jQuery('.wpfMainWrapper',productContainerElem).attr('data-nowoo')!==false)
_thisObj.ajaxForceThemeTemplates(productContainerSelector,productListSelector,requestData,$wrapperSettings);else{location.reload(true);}
_thisObj.afterAjaxFiltering($wrapperSettings);return false;}
loopContainer.each(function(){jQuery(this).html(res.data['categoryHtml']);jQuery(this).append(res.data['productHtml']);});}}
var countSelector=wpfGetSelector(res.data['resultCountHtml'],true,'.woocommerce-result-count',1,false,productContainerElem),wooCount=jQuery(countSelector,productContainerElem);if(wooCount.length>0){wooCount.replaceWith(res.data['resultCountHtml']);}
var isLeerPagination=res.data['paginationHtml']=='',paginationSelector=wpfGetSelector(res.data[isLeerPagination?'paginationLeerHtml':'paginationHtml'],false,'.woocommerce-pagination',1,false,productContainerElem),wooPagination=jQuery(paginationSelector,productContainerElem),newPagination=res.data['paginationHtml'];if(wooPagination.length>0){if(typeof _thisObj.paginationClasses=='undefined'){_thisObj.paginationClasses=wooPagination.attr('class');}
if(isLeerPagination){wooPagination.css({'display':'none'});wooPagination.empty();}else{wooPagination.replaceWith(newPagination);}}else if(!isLeerPagination){var afterLoop=jQuery('.after-shop-loop',productContainerElem);if(afterLoop.length>0){afterLoop.prepend(newPagination);}else{wooCount=jQuery('.storefront-sorting '+countSelector,productContainerElem);if(wooCount.length>0){wooCount.after(newPagination);}else{let shortcodeData=productContainerElem.find('span[data-shortcode-attribute]'),isPaginate=shortcodeData.length?shortcodeData.data('shortcode-attribute').paginate:true;if(typeof isPaginate==='undefined'||isPaginate){loopContainer.eq(0).after(newPagination);}}}}
if(typeof _thisObj.paginationClasses!='undefined'){jQuery(paginationSelector,productContainerElem).attr('class',_thisObj.paginationClasses);}
_thisObj.currentProductBlock=loopContainer.selector;}
_thisObj.afterAjaxFiltering($wrapperSettings);jQuery('.wpfLoaderLayout').hide();}}});});WpfFrontendPage.prototype.ajaxForceThemeTemplates=(function(productContainerSelector,productListSelector,requestData,$wrapperSettings){var _thisObj=this.$obj,curUrl=window.location.href,isContainer=(productContainerSelector!='');_thisObj.filterLoadTypes[_thisObj.currentLoadId]='force';if($wrapperSettings.recalculate_filters!=='1'){_thisObj.ajaxOnlyRecount(requestData);}
jQuery.ajax({type:"GET",url:curUrl+(curUrl.indexOf('?')==-1?'?':'&')+'wpf_skip=1&wpf_fid='+_thisObj.filteringId,cache:false,dataType:'html',success:function(data){var block='',foundContainer=false,noProducts=false,$loadedData=jQuery(data),$loadedJS=$loadedData.find('.wpfExistsTermsJS');if($loadedJS.length){if(toeInArray($loadedJS.eq(0).attr('data-fid'),_thisObj.lastFids)==-1){return false;}}
if(isContainer){block=jQuery(data).find(productContainerSelector);}
if(block.length){foundContainer=true;}else{block=jQuery(data).find(productListSelector);}
var pageBlock=jQuery(isContainer&&(foundContainer||block.length==0)?productContainerSelector:productListSelector);if(block.length==0||pageBlock.length==0){if($wrapperSettings.recalculate_filters==='1'){var existsTermsJS=jQuery(data).find('.wpfExistsTermsJS').html();_thisObj.setAjaxJScript(existsTermsJS);}
if($wrapperSettings.no_redirect_by_no_products==='1'&&pageBlock.length>0){block=jQuery('<div><div class="wpfNoProducts">'+$wrapperSettings.text_no_products+'</div></div>');noProducts=true;}else{_thisObj.filterLoadTypes[_thisObj.currentLoadId]='reload';location.reload();return;}}
_thisObj.currentProductBlock=(typeof pageBlock.selector!=='undefined')?pageBlock.selector:productListSelector;block.each(function(index,value){var blockWhere=pageBlock.eq(index),blockWhat=jQuery(value);if(!foundContainer&&!noProducts){blockWhere=blockWhere.parent();blockWhat=blockWhat.parent();}
blockWhat.find('input[name="wpf_skip"]').remove();blockWhere.html(blockWhat.html().replace(/wpf_skip=1/g,'').replace(/wpf_fid=[0-9]*/g,'').replace(/&amp;&amp;/g,'&amp;'));var paginationPageBlock=jQuery(blockWhere).find('.woocommerce-pagination');if(!paginationPageBlock.length){var paginationPage=jQuery('.woocommerce-pagination');var paginationResponse=jQuery(data).find('.woocommerce-pagination');if(paginationResponse.length){paginationResponse=paginationResponse.eq(0).html().replace(/wpf_skip=1/g,'').replace(/wpf_fid=[0-9]*/g,'').replace(/&amp;&amp;/g,'&amp;');if(paginationPage.length){paginationPage.html(paginationResponse);}else{jQuery(blockWhere).parent().after('<nav class="woocommerce-pagination">'+paginationResponse+'</nav>');}}else if(paginationPage.length){paginationPage.remove();}}
var resultCountBlock=jQuery(blockWhere).find('.woocommerce-result-count');var resultCountResponse=jQuery(data).find('.woocommerce-result-count');if(!resultCountBlock.length&&resultCountResponse.length){var resultCount=jQuery('.woocommerce-result-count');if(resultCount.length){resultCount.replaceWith(resultCountResponse);}}});_thisObj.afterAjaxFiltering($wrapperSettings);_thisObj.runReadyList();if($wrapperSettings.recalculate_filters==='1'){var existsTermsJS=jQuery(data).find('.wpfExistsTermsJS').html();_thisObj.setAjaxJScript(existsTermsJS);}}});return false;});WpfFrontendPage.prototype.ajaxOnlyRecount=(function(requestData,filterId,$wrapperSettings){var _thisObj=this.$obj;if(!_thisObj.currentAjaxJSLoaded&&requestData){requestData['only_recound']=1;if(typeof filterId!=='undefined'){requestData['synchro_filter_id']=filterId;}
jQuery.sendFormWpf({data:requestData,onSuccess:function(res){if(typeof $wrapperSettings!=='undefined'&&typeof $wrapperSettings.filter_loader_icon_onload_enable!=='undefined'&&Number($wrapperSettings.filter_loader_icon_onload_enable)){hideFilterLoader(jQuery('#'+filterId));}
if(!res.error){if('jscript'in res.data){_thisObj.setAjaxJScript(res.data['jscript'],filterId);}}
_thisObj.removeOverlay();}});}});WpfFrontendPage.prototype.setAjaxJScript=(function(jscript,filterId){var _thisObj=this.$obj,filter=jQuery('#'+(typeof(filterId)=='undefined'?_thisObj.currentLoadId:filterId));if(filter.length&&jscript!=''){var jsBlock=filter.find('.wpfAjaxJSBlock');if(jsBlock.length==0){jQuery('<div class="wpfAjaxJSBlock wpfHidden"></div>').appendTo(filter);}
filter.find('.wpfAjaxJSBlock').html(jscript);}
_thisObj.currentAjaxJSLoaded=true;});WpfFrontendPage.prototype.afterAjaxFiltering=(function($wrapperSettings){var _thisObj=this.$obj;_thisObj.getUrlParamsChangeFiltersValues();_thisObj.disableFiltersLoader();_thisObj.removeOverlay();toggleClear();if(jQuery('body').find('.products').hasClass('oceanwp-row')){var products=jQuery('body').find('.products'),aligns=['center','left','right'];products.find('li:first').addClass('col');for(var i=1;i<=7;i++){if(products.find('li').hasClass('span_1_of_'+i)){products.find('li:first').addClass('span_1_of_'+i);break;}}
for(var j=0;j<aligns.length;j++){if(products.find('li').hasClass('owp-content-'+aligns[j])){products.find('li:first').addClass('owp-content-'+aligns[j]);break;}}}
_thisObj.changeLmpButton();jQuery(document).trigger('yith_wcqv_wcajaxnav_update');if(typeof(_thisObj.scrollToProductsPro)=='function'){_thisObj.scrollToProductsPro($wrapperSettings);}
if(jQuery(_thisObj.defaultProductSelector).closest('.et_pb_shop').length&&jQuery(_thisObj.defaultProductSelector).find('[loading="lazy"]').length==0){heightIdenticalInRow('.et_pb_shop li.product');}
jQuery('.form-wppp-select').each(function(){var $form=jQuery(this);$form.attr('action',jQuery('#'+_thisObj.currentLoadId).attr('data-hide-url'));$form.find('input[type="hidden"]').remove();});var customEvent=document.createEvent('Event');customEvent.initEvent('wpfAjaxSuccess',false,true);document.dispatchEvent(customEvent);});WpfFrontendPage.prototype.runReadyList=(function(){if(window.readyList&&readyList.length){var _thisObj=this.$obj;if(_thisObj.disableScrollJs){jQuery(window).off("yith_infs_start").off("scroll touchstart");if(typeof(jQuery.fn)=='object'&&typeof(jQuery.fn.init_infinitescroll)=='function'){jQuery.fn.init_infinitescroll();}}
jQuery(window.readyList).each(function(i,el){var strFunc=el['a'][0].toString();if(strFunc.indexOf('WpfFrontendPage')==-1&&strFunc.indexOf('.ajaxComplete(')==-1){for(var i=0;i<_thisObj.readyFuncs.length;i++){if(strFunc.indexOf(_thisObj.readyFuncs[i])!=-1){try{window.originalReadyMethod.apply(el['c'],el['a']);}catch(e){console.log(e);}
break;}}}});}
jQuery(window).trigger("fusion-element-render-fusion_woo_product_grid");});WpfFrontendPage.prototype.enableFiltersLoader=(function(idWrapper,productListElem){var preview=jQuery('#'+idWrapper+' .wpfPreviewLoader').first().clone().removeClass('wpfHidden');productListElem.html(preview);});WpfFrontendPage.prototype.disableFiltersLoader=(function(){jQuery('.wpfPreviewLoader').first().clone().addClass('wpfHidden');});WpfFrontendPage.prototype.getUrlParamsChangeFiltersValues=(function(){var _thisObj=this.$obj,noWooPage=_thisObj.noWoo;if(noWooPage){var curUrl=jQuery('.wpfMainWrapper').first().attr('data-hide-url');}else{var curUrl=window.location.href;}
if(!curUrl){return;}
var urlParams=_thisObj.findGetParameter(curUrl);jQuery('.wpfFilterWrapper').each(function(){var $filter=jQuery(this),filterType=$filter.attr('data-filter-type'),settings=_thisObj.getFilterMainSettings($filter.closest('.wpfMainWrapper'));switch(filterType){case'wpfAttribute':if(typeof(_thisObj.eventChangeFilterPro)=='function'){_thisObj.eventChangeFilterPro($filter,settings);}
break;case'wpfPrice':var rate=$filter.data('rate');urlParams=_thisObj.getConvertedPrices(urlParams,rate);var minPrice=urlParams.wpf_min_price?urlParams.wpf_min_price:$filter.attr('data-minvalue'),maxPrice=urlParams.wpf_max_price?urlParams.wpf_max_price:$filter.attr('data-maxvalue'),skin='default';if(minPrice){$filter.find('#wpfMinPrice').val(minPrice);}
if(maxPrice){$filter.find('#wpfMaxPrice').val(maxPrice);}
if(settings){skin=$filter.attr('data-price-skin');}
if(skin==='default'){var sliderWrapper=$filter.find("#wpfSliderRange");}else{var sliderCurBefore=($filter.attr('data-slider-currency-before')!=undefined)?$filter.attr('data-slider-currency-before'):'';var sliderCurAfter=($filter.attr('data-slider-currency-after')!=undefined)?$filter.attr('data-slider-currency-after'):'';var sliderWrapper=$filter.find('.ion-range-slider').data('ionRangeSlider');$filter.addClass('wpfNotActiveSlider');if(sliderCurBefore||sliderCurAfter){setTimeout(function()
{$filter.find('span.irs-min:first').html(sliderCurBefore+sliderWrapper['result'].min_pretty+sliderCurAfter);$filter.find('span.irs-max:first').html(sliderCurBefore+sliderWrapper['result'].max_pretty+sliderCurAfter);$filter.find('span.irs-from:first').html(sliderCurBefore+sliderWrapper['result'].from_pretty+sliderCurAfter);$filter.find('span.irs-to:first').html(sliderCurBefore+sliderWrapper['result'].to_pretty+sliderCurAfter);},500);}}
if(minPrice&&maxPrice){if(skin==='default'){sliderWrapper.slider({values:[minPrice,maxPrice]});}else if(typeof(sliderWrapper)!='undefined'){sliderWrapper.update({from:minPrice,to:maxPrice});$filter.removeClass('wpfNotActiveSlider');}}
_thisObj.chageRangeFieldWidth();if(typeof(_thisObj.eventChangeFilterPro)=='function'){_thisObj.eventChangeFilterPro($filter,settings);}
break;case'wpfPriceRange':var rate=$filter.data('rate');urlParams=_thisObj.getConvertedPrices(urlParams,rate);var minPrice=urlParams.wpf_min_price?parseFloat(urlParams.wpf_min_price):false,maxPrice=urlParams.wpf_max_price?parseFloat(urlParams.wpf_max_price):false,$options=$filter.find('li');$options.find('input[type="checkbox"]').prop('checked',false);$options.each(function(){var _this=jQuery(this),range=_this.attr('data-range');if(typeof range!='undefined'){range=range.split(',');var minRange=range[0]==''?false:parseFloat(range[0]),maxRange=range[1]==''?false:parseFloat(range[1]),minPrices=[minPrice-1,minPrice,minPrice+1],maxPrices=[maxPrice-1,maxPrice,maxPrice+1];if(minPrices.includes(minRange)&&maxPrices.includes(maxRange)){_this.find('input[type="checkbox"]').prop('checked',true);return false;}}});if(typeof(_thisObj.eventChangeFilterPro)=='function'){_thisObj.eventChangeFilterPro($filter,settings);}
break;}});});WpfFrontendPage.prototype.findGetParameter=(function(url){var query_string={},usefulParam=url.split("?")[1]||"",query=usefulParam||"",vars=query.split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");if(typeof query_string[pair[0]]==="undefined"){query_string[pair[0]]=decodeURIComponent(pair[1]);}else if(typeof query_string[pair[0]]==="string"){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr;}else{query_string[pair[0]].push(decodeURIComponent(pair[1]));}}
return query_string;});WpfFrontendPage.prototype.getClearLabel=(function(label,withCount){if(withCount){var cnt=label.lastIndexOf('(');if(cnt==-1)cnt=label.lastIndexOf('<span');if(cnt!=-1)label=label.substring(0,cnt).trim();}
label=label.replace(/&nbsp;/g,'');return label;});WpfFrontendPage.prototype.getFilterOptionsByType=(function($filter,filterType){var _thisObj=this.$obj;return _thisObj['get'+filterType.replace('wpf','')+'FilterOptions']($filter);});WpfFrontendPage.prototype.getPriceFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],options=[],minPrice=$filter.find('#wpfMinPrice').val(),maxPrice=$filter.find('#wpfMaxPrice').val(),tax=$filter.data('tax'),rate=$filter.data('rate'),str='';[minPrice,maxPrice,tax]=_thisObj.getConvertedPrices([minPrice,maxPrice,tax],rate);str=minPrice+','+maxPrice;options.push(str);var frontendOptions=[],getParams=$filter.attr('data-get-attribute');frontendOptions['rate']=rate;getParams=getParams.split(",");for(var i=0;i<getParams.length;i++){if(i===0){frontendOptions[getParams[i]]=minPrice;}
if(i===1){frontendOptions[getParams[i]]=maxPrice;}
if(i===2&&tax!==''){frontendOptions[getParams[i]]=tax;}}
var symbol=$filter.find('.wpfCurrencySymbol'),symbolB=symbol.length&&!symbol.is(':last-child')?symbol.html():'',symbolA=symbol.length&&symbol.is(':last-child')?symbol.html():'',selectedOptions={'is_one':true,'list':[symbolB+minPrice+symbolA+' - '+symbolB+maxPrice+symbolA]};optionsArray['backend']=options;optionsArray['frontend']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=[[minPrice,maxPrice]];return optionsArray;});WpfFrontendPage.prototype.getPriceRangeFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],options=[],frontendOptions=[],selectedOptions={'is_one':true,'list':[]},statistics=[],i=0,rate=$filter.data('rate');if($filter.attr('data-display-type')==='list'){if($filter.find("input:checked").length){var li=$filter.find('input:checked').closest('li');options[i]=li.attr('data-range');selectedOptions['list'][i]=li.find('.wpfValue').html();}}else if($filter.attr('data-display-type')==='dropdown'){if($filter.find(":selected").attr('data-range')){var option=$filter.find(":selected");options[i]=option.attr('data-range');selectedOptions['list'][i]=option.html();}}
if(typeof options!=='undefined'&&options.length>0){var getParams=$filter.attr('data-get-attribute'),tax=$filter.data('tax');frontendOptions['rate']=rate;getParams=getParams.split(",");if(typeof options[0]!=='undefined'&&options[0].length>0){var prices=options[0].split(',');[prices[0],prices[1],tax]=_thisObj.getConvertedPrices([prices[0],prices[1],tax],rate);frontendOptions[getParams[0]]=prices[0];frontendOptions[getParams[1]]=prices[1];if(typeof tax!=='undefined'){frontendOptions[getParams[2]]=tax;}}}
if(options.length==0){var defRange=$filter.attr('data-default');if(typeof defRange!='undefined'&&defRange.length){options[i]=defRange;}}
if(typeof rate!=='undefined'){var minPrice='',maxPrice='';options=options.map(function(elem){[minPrice,maxPrice]=_thisObj.getConvertedPrices(elem.split(","),rate);return minPrice+','+maxPrice;});}
if(options.length){statistics=options.map(function(elem){return elem.split(",");});}
optionsArray['backend']=options;optionsArray['frontend']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getSortByFilterOptions=(function($filter){var optionsArray=[],options=[],frontendOptions=[],selectedOptions={'is_one':true,'list':[]},value='';if($filter.data('display-type')==='radio'){var elem=$filter.find('input:checked').closest('li'),name=elem.find('.wpfFilterTaxNameWrapper').html();}else{var elem=$filter.find('option:selected'),name=elem.html();}
if(elem.length){value=elem.data('term-slug');options.push(value);var getParams=$filter.attr('data-get-attribute');frontendOptions[getParams]=value;selectedOptions['list'][0]=name;optionsArray['stats']=[name];}
if($filter.data('first-instock')=='1'){frontendOptions['oistock']=1;options.push('oistock');}
optionsArray['backend']=options;optionsArray['frontend']=frontendOptions;optionsArray['selected']=selectedOptions;return optionsArray;});WpfFrontendPage.prototype.getInStockFilterOptions=(function($filter){var optionsArray=[],frontendOptions=[],options=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType==='dropdown'),'list':[]},statistics=[],i=0;if(filterType==='dropdown'){var option=$filter.find(":selected"),value=option.attr('data-slug');if(value!=''){options[i]=value;frontendOptions[i]=value;var name=option.html();selectedOptions['list'][i]=name;statistics.push(name);}}else{$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),slug=li.attr('data-term-slug'),name=li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():li.find('.wpfValue').html();options[i]=slug;frontendOptions[i]=slug;selectedOptions['list'][li.attr('data-term-id')]=name;statistics.push(name);i++;});}
optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getCategoryFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],frontendOptions=[],options=[],filterType=$filter.attr('data-display-type'),useSlugs=$filter.attr('data-use-slugs')=='1',selectedOptions={'is_one':(filterType=='list'||filterType=='dropdown'),'list':[]},statistics=[],i=0;if(filterType==='dropdown'){var option=$filter.find(":selected"),id=option.attr('data-term-id'),value=option.val();if(value!=''){options[i]=value;var name=_thisObj.getClearLabel(option.html(),$filter.hasClass('wpfShowCount'));selectedOptions['list'][id]=name;statistics.push(name);}
frontendOptions[i]=(useSlugs?option.attr('data-term-slug'):id);}else if(filterType==='mul_dropdown'){$filter.find(':selected').each(function(){var option=jQuery(this),id=option.attr('data-term-id');options[i]=option.val();frontendOptions[i]=(useSlugs?option.attr('data-term-slug'):id);var name=_thisObj.getClearLabel(option.html(),$filter.hasClass('wpfShowCount'));selectedOptions['list'][id]=name;statistics.push(name);i++;});}else{var removeSelectedList=[];$filter.find('input').each(function(){var inputCurent=jQuery(this),liCurent=inputCurent.closest('li'),id=liCurent.data('term-id'),isParent=liCurent.children('ul').length>0,isChecked=inputCurent.is(':checked'),hierarchicalLogic=$filter.attr('data-logic-hierarchical'),type=$filter.attr('data-display-type'),isHierarchical=$filter.attr('data-show-hierarchical'),isHierarchicalLogic=isHierarchical==='true'&&type==='multi'||type==='text';if(isParent){var isAllChildChecked=true,childList=[];liCurent.find('ul li').each(function(){var childId=jQuery(this).data('term-id'),childLi=jQuery(this),childInput=childLi.find('input'),isChildChecked=childInput.prop('checked');childList.push(childId);if(!isChildChecked){isAllChildChecked=false;return false;}});if(isChecked&&isAllChildChecked){removeSelectedList=removeSelectedList.concat(childList);var onlyUnique=function(value,index,self){return self.indexOf(value)===index;}
removeSelectedList=removeSelectedList.filter(onlyUnique);selectedOptions.removeSelected=removeSelectedList;}}
if(jQuery(this).is(':checked')){if(isHierarchicalLogic&&hierarchicalLogic=='child'){var liElements=liCurent.find('li'),isChildChicked=false;for(var j=0;j<liElements.length;++j){var li=liElements[j];if(jQuery(li).find('input').prop('checked')){isChildChicked=true;}}
if(!isChildChicked){options[i]=id;frontendOptions[i]=(useSlugs?liCurent.attr('data-term-slug'):id);}}else if(isHierarchicalLogic&&hierarchicalLogic=='parent'){var parents=liCurent.parents('li'),isChildChicked=false;for(var j=0;j<parents.length;++j){var li=parents[j];if(jQuery(li).find('input').prop('checked')){isChildChicked=true;}}
if(!isChildChicked){options[i]=id;frontendOptions[i]=(useSlugs?liCurent.attr('data-term-slug'):id);}}else{options[i]=id;frontendOptions[i]=(useSlugs?liCurent.attr('data-term-slug'):id);}
var name=liCurent.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(liCurent.find('.wpfFilterTaxNameWrapper:first').length?liCurent.find('.wpfFilterTaxNameWrapper:first').html():name);i++;}});}
var options=options.filter(function(el){return el!=null;});var frontendOptions=frontendOptions.filter(function(el){return el!=null;});optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getPerfectBrandFilterOptions=(function($filter){return this.$obj.getCategoryFilterOptions($filter);});WpfFrontendPage.prototype.getTagsFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],options=[],frontendOptions=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType=='dropdown'),'list':[]},statistics=[],withCount=$filter.hasClass('wpfShowCount'),i=0;if(filterType==='dropdown'){var option=$filter.find(":selected"),value=option.val();if(value!=''){options[i]=value;frontendOptions[i]=option.attr('data-slug');var name=_thisObj.getClearLabel(option.html(),withCount);selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);}}else if(filterType==='mul_dropdown'){$filter.find(':selected').each(function(){var option=jQuery(this);options[i]=option.val();frontendOptions[i]=option.attr('data-slug');var name=_thisObj.getClearLabel(option.html(),withCount);selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);i++;});}else{$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});}
optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getAttributeFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],options=[],frontendOptions=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType=='dropdown'),'list':[]},statistics=[],withCount=$filter.hasClass('wpfShowCount'),i=0,proFilterType=['slider','colors'];if(filterType==='dropdown'){var option=$filter.find(":selected"),value=option.val();if(value!=''){options[i]=value;frontendOptions[i]=option.attr('data-slug');var name=_thisObj.getClearLabel(option.html(),withCount);selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);}}else if(filterType==='mul_dropdown'){$filter.find(':selected').each(function(){var option=jQuery(this);options[i]=option.val();frontendOptions[i]=option.attr('data-slug');var name=_thisObj.getClearLabel(option.html(),withCount);selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);i++;});}else if(jQuery.inArray(filterType,proFilterType)==-1){$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});}
var data={options:options,frontendOptions:frontendOptions,selectedOptions:selectedOptions,statistics:statistics,i:i,}
if(typeof window.wpfFrontendPage.getAttributeFilterOptionsPro=='function'){data=window.wpfFrontendPage.getAttributeFilterOptionsPro($filter,data);}
optionsArray['backend']=data.options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=data.frontendOptions;optionsArray['selected']=data.selectedOptions;optionsArray['stats']=data.statistics;return optionsArray;});WpfFrontendPage.prototype.getAuthorFilterOptions=(function($filter){var _thisObj=this.$obj,optionsArray=[],options=[],frontendOptions=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType=='dropdown'),'list':[]},statistics=[],i=0;if(filterType==='list'){$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});}else if(filterType==='mul_dropdown'){$filter.find(':selected').each(function(){var option=jQuery(this);options[i]=option.val();frontendOptions[i]=option.attr('data-slug');var name=_thisObj.getClearLabel(option.html());selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);i++;});}else if(filterType==='dropdown'){var option=$filter.find(":selected"),value=option.val();options[i]=value;if(value!=''){frontendOptions[i]=option.attr('data-slug');var name=option.html();selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);}}
optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getFeaturedFilterOptions=(function($filter){var optionsArray=[],options=[],frontendOptions=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType=='dropdown'),'list':[]},statistics=[],i=0;$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getOnSaleFilterOptions=(function($filter){var optionsArray=[],options=[],frontendOptions=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':(filterType=='dropdown'),'list':[]},statistics=[],i=0;$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.getRatingFilterOptions=(function($filter){var optionsArray=[],frontendOptions=[],options=[],filterType=$filter.attr('data-display-type'),selectedOptions={'is_one':true,'list':[]},statistics=[],i=0;if(filterType=='linestars'||filterType=='liststars'){var input=$filter.find('input.wpfStarInput:checked'),rating=input.val();options[i]=rating;frontendOptions[i]=rating;var name=input.attr('data-label');selectedOptions['list'][i]=name;statistics.push(name);}else if(filterType=='list'){$filter.find('input:checked').each(function(){var li=jQuery(this).closest('li'),id=li.attr('data-term-id');options[i]=id;frontendOptions[i]=li.attr('data-term-slug');var name=li.find('.wpfValue').html();selectedOptions['list'][id]=name;statistics.push(li.find('.wpfFilterTaxNameWrapper').length?li.find('.wpfFilterTaxNameWrapper').html():name);i++;});}else if(filterType=='dropdown'){var option=$filter.find(":selected"),value=option.val();options[i]=value;if(value!=''){frontendOptions[i]=option.attr('data-slug');var name=option.html();selectedOptions['list'][option.attr('data-term-id')]=name;statistics.push(name);}}
optionsArray['backend']=options;var getParams=$filter.attr('data-get-attribute');optionsArray['frontend']=[];optionsArray['frontend']['taxonomy']=getParams;optionsArray['frontend']['settings']=frontendOptions;optionsArray['selected']=selectedOptions;optionsArray['stats']=statistics;return optionsArray;});WpfFrontendPage.prototype.disableLeerOptions=(function(){var _thisObj=this.$obj;jQuery('.wpfMainWrapper').each(function(){var mainWrapper=jQuery(this),settings=_thisObj.getFilterMainSettings(mainWrapper);if(settings&&settings.settings.filter_null_disabled==='1'){var filters=mainWrapper.find('.wpfFilterWrapper.wpfShowCount');if(filters.length){filters.find('option[data-term-id]').prop('disabled',false);filters.find('option[data-term-id][data-count="0"]').prop('disabled',true);filters.find('.wpfCount').each(function(){var cntObj=jQuery(this),leer=cntObj.html()=='(0)',el=cntObj.closest('[data-term-id]'),input=false;if(el.length==0){el=cntObj.closest('[data-term-slug]');}
if(el.length){if(el.is('input')){input=el;el=input.parent();}else{input=el.find('input');}
input.prop('disabled',leer);if(leer)el.addClass('wpfOptionDisabled');else el.removeClass('wpfOptionDisabled');}});}}});});WpfFrontendPage.prototype.addSpecificPluginActions=(function(){jQuery(window).on('load',function(){if(window.elementorFrontend){if(window.elementorFrontend.hooks){elementorFrontend.hooks.addAction('frontend/element_ready/widget',function($scope){var wrapper=$scope.find('.wpfMainWrapper');hideFilterLoader(wrapper);});}}else if(jQuery('.elementor .wpfMainWrapper').length){setTimeout(function(){jQuery('.elementor .wpfMainWrapper').each(function(){var wrapper=jQuery(this);hideFilterLoader(wrapper);});},2000);}});});WpfFrontendPage.prototype.fixSelector=(function(selector,defaultSelector){if(typeof selector=='undefined'||selector===''){return typeof defaultSelector=='undefined'?'':defaultSelector;}
return(selector.search(/\.|#/)===-1)?'.'+selector.replace(/(\s+)(\w+)/g,' .$2'):selector;});WpfFrontendPage.prototype.markCheckboxSelected=(function($filter){if($filter.length){var settings=this.getFilterMainSettings($filter.closest('.wpfMainWrapper'));if(settings){if(settings.settings.checked_items_bold=='1'){var wpfMainWrapper=$filter.closest('.wpfMainWrapper');wpfMainWrapper.find('.wpfDisplay').css('font-weight','');wpfMainWrapper.find('.wpfAttrLabel').css('font-weight','');wpfMainWrapper.find('input:checked').each(function(){var wpfDisplay=jQuery(this).closest('.wpfLiLabel').find('.wpfDisplay'),wpfAttrLabel=jQuery(this).closest('.wpfColorsColBlock').find('.wpfAttrLabel');wpfDisplay.css('font-weight','bold');wpfAttrLabel.css('font-weight','bold');});}}}});jQuery(document).ready(function(){window.wpfFrontendPage=new WpfFrontendPage();if(typeof isElementorEditMode=='undefined'){window.wpfFrontendPage.init();}});WpfFrontendPage.prototype.unserializeStr=function(serializedString){var str=decodeURI(serializedString);var pairs=str.split('&');var obj={},p,idx;for(var i=0,n=pairs.length;i<n;i++){p=pairs[i].split('=');idx=p[0];if(obj[idx]===undefined){obj[idx]=unescape(p[1]).replace(/\+/g,' ');}else{if(typeof obj[idx]=="string"){obj[idx]=[obj[idx]];}
obj[idx].push(unescape(p[1]).replace(/\+/g,' '));}}
return obj;};WpfFrontendPage.prototype.getConvertedPrices=function(data,rate){if(typeof rate!=='undefined'&&rate!==1){if(typeof data[0]!=='undefined'){data[0]=String(Math.round(data[0]/rate));if(typeof data[1]!=='undefined'){data[1]=String(Math.round(data[1]/rate));}
if(typeof data[2]!=='undefined'){data[2]=String(Math.round(data[2]/rate));}}else{if(data.wpf_min_price){data.wpf_min_price=String(Math.round(data.wpf_min_price*rate));}
if(data.wpf_max_price){data.wpf_max_price=String(Math.round(data.wpf_max_price*rate));}
if(data.tax){data.tax=String(Math.round(data.tax*rate));}}}
return data;};if(jQuery('.variations_form').length>0&&typeof $(this).wc_variation_form=='function'){document.addEventListener('wpfAjaxSuccess',function(event){$('.variations_form').each(function(){$(this).wc_variation_form();});});}
if(jQuery('.jetpack-lazy-image').length>0){document.addEventListener('wpfAjaxSuccess',function(event){jQuery('.jetpack-lazy-image').each(function(){jQuery(this).removeAttr('srcset');});});}
jQuery(document).ready(function(){if(jQuery('a.lmp_button').length>0){document.addEventListener('wpfAjaxSuccess',function(event){if(typeof load_next_page=='function'){load_next_page(true,decodeURIComponent(location.href));}});}});jQuery(document).on('ixProductFilterRequestProcessed',function(event){window.wpfFrontendPage.filtering();});}(window.jQuery,window));var objQueryString={};toggleClear();function wpfGetSelector(html,controlExist,defSelector,countChilds,removeDynamicClasses,context){if(html.length==0)return defSelector;var elem=(typeof context!=='undefined')?jQuery(html,context):jQuery(html),selector='',i=0;if(typeof countChilds=='undefined'){countChilds=1;}
while(i<countChilds&&elem&&elem.length){if(i>0){selector+=' ';}
i++;if(elem.length>1){elem=elem.last();}
var elemId=elem.attr('id');if(typeof elemId!='undefined'){selector+='#'+elemId;}else{var elemClass=elem.attr('class');if(removeDynamicClasses){classList=elemClass.split(' ');classList.forEach(function(className,key){var hasNumber=/\d/.test(className);if(hasNumber){classList.splice(key,1);}});elemClass=classList.join(' ');}
if(typeof elemClass!='undefined'&&elemClass!=''){if(elemClass=='container'&&countChilds==1)countChilds=2;selector+=elem.get(0).tagName+'.'+elemClass.trim().replace(/ +/g,'.');}}
if(controlExist&&selector!=''&&jQuery(selector).length==0){selector='';break;}
var elem=elem.children();}
return selector.length==0?defSelector:selector;}
function getUrlParams(){var params={};window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(str,key,value){params[key]=value;});return params;}
function toggleClear(){var params=getUrlParams();jQuery(".wpfBlockClear").hide();jQuery(".wpfFilterWrapper").each(function(){var attr=jQuery(this).attr('data-get-attribute');if(attr in params){jQuery(this).find(".wpfBlockClear").show();}});if('wpf_min_price'in params||'wpf_max_price'in params){jQuery("[data-filter-type='wpfPrice']").find(".wpfBlockClear").show();jQuery("[data-filter-type='wpfPriceRange']").find(".wpfBlockClear").show();}}
function getParameterByName(name,searchUrl){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(searchUrl);return results===null?"":decodeURIComponent(results[1]);}
function getCurrentUrlPartsWpf(){var parts=window.wpfNewUrl.split('?'),s=(parts[1]||'');return{href:window.wpfNewUrl,path:parts[0].replace(/#.*$/,''),search:(s.length?'?'+s:'')};}
function changeUrl(filterSlug,filterValue,$wooPage,$filterWrapper){removePageQString();$wooPage=(typeof $wooPage!='undefined'?$wooPage:false);var curUrl=getCurrentUrlPartsWpf();if(!$wooPage){var searchUrl=decodeURIComponent(curUrl.search);}else{if($filterWrapper.attr('data-hide-url')){var searchUrl=$filterWrapper.attr('data-hide-url');}else{var searchUrl='';}}
if(searchUrl.indexOf("redirect")!==-1){searchUrl='';}
if(searchUrl.indexOf("?")=="-1"){var urlValue=curUrl.path+'?'+filterSlug+'='+filterValue;}else{if(searchUrl.indexOf('&'+filterSlug+'=')=="-1"&&searchUrl.indexOf('?'+filterSlug+'=')=="-1"){var urlValue=searchUrl+'&'+filterSlug+'='+filterValue;}else{var oldValue=getParameterByName(filterSlug,searchUrl);if(searchUrl.indexOf("?"+filterSlug+"=")!="-1"){var urlValue=searchUrl.replace('?'+filterSlug+'='+oldValue,'?'+filterSlug+'='+filterValue);}else{var urlValue=searchUrl.replace('&'+filterSlug+'='+oldValue,'&'+filterSlug+'='+filterValue);}}
urlValue=curUrl.path+urlValue;}
if(!$wooPage){window.wpfNewUrl=encodeURI(urlValue).indexOf('%25')===-1?encodeURI(urlValue):urlValue;}
objQueryString.key=filterValue;return urlValue;}
function removePageQString(){var curUrl=getCurrentUrlPartsWpf(),path=curUrl.path,page=path.indexOf('../../page/index.html');if(page!=-1&&history.pushState){window.wpfNewUrl=path.substr(0,page+1)+curUrl.search;}}
function removeQString(key,$wooPage,$filterWrapper){removePageQString();var curUrl=getCurrentUrlPartsWpf(),urlValue=decodeURI(curUrl.href);$wooPage=(typeof $wooPage!='undefined'?$wooPage:false);if(!$wooPage){var searchUrl=decodeURIComponent(curUrl.search);}else{if($filterWrapper.attr('data-hide-url')){var searchUrl=decodeURI($filterWrapper.attr('data-hide-url'));}else{var searchUrl='';}
var urlValue=curUrl.href+searchUrl;}
if(key!=""){var oldValue=getParameterByName(key,searchUrl),removeVal=key+"="+oldValue;if(searchUrl.indexOf('?'+removeVal+'&')!="-1"){urlValue=urlValue.replace('?'+removeVal+'&','?');}
else if(searchUrl.indexOf('&'+removeVal+'&')!="-1"){urlValue=urlValue.replace('&'+removeVal+'&','&');}
else if(searchUrl.indexOf('?'+removeVal)!="-1"){urlValue=urlValue.replace('?'+removeVal,'');}
else if(searchUrl.indexOf('&'+removeVal)!="-1"){urlValue=urlValue.replace('&'+removeVal,'');}
if($wooPage){urlValue=urlValue.replace(curUrl.href,'');}}else{if(!$wooPage){var searchUrl=decodeURIComponent(curUrl.search);urlValue=urlValue.replace(searchUrl,'');}else{var searchUrl=$filterWrapper.attr('data-hide-url');urlValue=urlValue.replace(searchUrl,'');urlValue=urlValue.replace(curUrl.href,'');}}
if(!$wooPage){window.wpfNewUrl=encodeURI(urlValue).indexOf('%25')===-1?encodeURI(urlValue):urlValue;}
return urlValue.indexOf('%25')!==-1?decodeURI(urlValue):urlValue;}
function checkArray(my_arr){for(var i=0;i<my_arr.length;i++){if(my_arr[i]==="")
return false;}
return true;}
jQuery.toQueryParams=function(str,separator){separator=separator||'&';var obj={};if(str.length==0)
return obj
var c=str.substr(0,1),s=c=='?'||c=='#'?str.substr(1):str,a=s.split(separator);for(var i=0;i<a.length;i++){var p=a[i].indexOf('=');if(p<0){obj[a[i]]='';continue}
var k=decodeURIComponent(a[i].substr(0,p)),v=decodeURIComponent(a[i].substr(p+1)),bps=k.indexOf('[');if(bps<0){obj[k]=v
continue;}
var bpe=k.substr(bps+1).indexOf(']');if(bpe<0){obj[k]=v
continue;}
var bpv=k.substr(bps+1,bps+bpe-1),k=k.substr(0,bps);if(bpv.length<=0){if(typeof(obj[k])!='object')obj[k]=[];obj[k].push(v);}else{if(typeof(obj[k])!='object')obj[k]={};obj[k][bpv]=v;}}
return obj;}
function wpfChangeFiltersCount(wpfExistTerms,synchroFilterId){var wpfPage=window.wpfFrontendPage,curFilter=wpfPage.isSynchro?(typeof(synchroFilterId)!='undefined'&&synchroFilterId.length?'#'+synchroFilterId:'#'+wpfPage.currentLoadId):'body';jQuery(curFilter).find(".wpfShowCount").find(".wpfCount").html("(0)");jQuery(curFilter).find(".wpfShowCount select:not([multiple]) option[data-count]").each(function(){var attr=jQuery(this).attr("data-term-name");jQuery(this).attr('data-count',0).html(attr+" (0)");});jQuery(curFilter).find(".wpfShowCount select[multiple]").find("option").each(function(){attr=jQuery(this).attr("data-term-name");jQuery(this).attr('data-count',0).html(attr+" (0)");});jQuery(curFilter).find(".wpfShowCount").each(function(filterCounter){var filter=jQuery(this);if(filter.attr("data-filter-type").length>0){var taxonomy=filter.data('taxonomy');if(typeof taxonomy=='undefined'||taxonomy.length==0)taxonomy=filter.data('slug');if(taxonomy in wpfExistTerms){if(typeof(wpfExistTerms[taxonomy].relation)!=='undefined'){var htmlArray={};jQuery(curFilter).find('div.wpfShowCount[data-taxonomy="'+taxonomy+'"] li').each(function(){htmlArray[jQuery(this).data('term-id')]=jQuery('.wpfFilterTaxNameWrapper',this).html();});jQuery.each(wpfExistTerms[taxonomy].relation,function(index,value){jQuery.each(htmlArray,function(i,v){if(v===value&&i!==index){wpfExistTerms[taxonomy][i]=wpfExistTerms[taxonomy][index];delete wpfExistTerms[taxonomy][index];}});});}
jQuery.each(wpfExistTerms[taxonomy],function(index,value){changeCount(taxonomy,index,value,curFilter);});delete wpfExistTerms[taxonomy];}}});window.wpfFrontendPage.disableLeerOptions();var multi=jQuery('.wpfShowCount').find('select[multiple]');if(multi.length)multi.multiselect('reload');};function changeCount(taxonomy,index,value,curFilter){var oIndex=index;index=index.toLowerCase();var els=jQuery(curFilter).find('div.wpfShowCount[data-taxonomy="'+taxonomy+'"] [data-term-id="'+oIndex+'"]');if(els.length===0){els=jQuery(curFilter).find('div.wpfShowCount[data-slug="'+taxonomy+'"] [data-term-id="'+oIndex+'"]');}
if(els.length===0){els=jQuery(curFilter).find('div.wpfShowCount[data-taxonomy="'+taxonomy+'"] [data-term-id="'+index+'"]');}
if(els.length===0){els=jQuery(curFilter).find('div.wpfShowCount[data-slug="'+taxonomy+'"] [data-term-id="'+index+'"]');}
if(els.length>0){els.each(function(){var el=jQuery(this);if(el.find('.wpfCount').length>0){el.find('.wpfCount:first').html('('+value+')');}else if(el.parent().attr('class')=='wpfColorsColBlock'){el.parent().find('.wpfCount').html('('+value+')');}else{var attrname=el.attr('data-term-name');var tooltipstered=el.siblings('.tooltipstered');if(tooltipstered.length){attrname=tooltipstered.attr('data-term-name');tooltipstered.tooltipster('content',''+attrname+' ('+value+')');if(tooltipstered.attr('data-show-count'))tooltipstered.text(value);}else if(attrname!==undefined){el.html(''+attrname+' ('+value+')');}else{el.html(''+index+' ('+value+')');}}
if(el.is('option')){el.attr('data-count',value);}});}}
function wpfShowHideFiltersAtts(wpfExistTerms,wpfExistUsers,synchroFilterId){var wpfPage=window.wpfFrontendPage,curFilter=typeof(synchroFilterId)!='undefined'&&synchroFilterId.length?synchroFilterId:wpfPage.currentLoadId;wpfPage.restoreSelectsForSafari();jQuery((curFilter?'#'+curFilter+' ':'')+'.wpfFilterWrapper').each(function(){var filter=jQuery(this),filterType=filter.data('filter-type'),filterContentType=filter.data('content-type'),taxonomy=filter.data('taxonomy'),getAttr=filter.data('get-attribute'),isFilterCurentlyActivated=getParameterByName(getAttr,location.search),isHideActive=filter.data('hide-active'),isShowAll=Boolean(filter.data('show-all')),isNotInLogic=getAttr.indexOf('pr_filter')==-1?false:true,userExistIds=[];switch(filterContentType){case'user':jQuery.each(wpfExistUsers,function(index,value){userExistIds.push(parseInt(value.ID));});if(!isFilterCurentlyActivated&&userExistIds.length>0){filter.find('[data-term-id]').each(function(){var el=jQuery(this),userId=el.data('term-id');if(userExistIds.indexOf(userId)>=0){el.show();}else{el.hide();}});}
break;case'taxonomy':if(typeof taxonomy=='undefined'||taxonomy.length==0){taxonomy=filter.data('slug');}
if((!isFilterCurentlyActivated||isHideActive)&&!isNotInLogic&&!isShowAll){if(taxonomy in wpfExistTerms||isFilterCurentlyActivated){var termIds=wpfExistTerms[taxonomy]||{};filter.find('[data-term-id]').each(function(){var elem=jQuery(this),id=elem.data('term-id'),selected=isFilterCurentlyActivated&&(elem.is('input:checked')||elem.find('input:checked').length||elem.is('option:selected'));if(id in termIds||selected){if(elem.closest('.wpfButtonsFilter').length)elem.css('display','inline-block');else elem.show();if(elem.parent().hasClass('wpfColorsColBlock')){elem.parent().parent().show();}
if(elem.closest('.wpfColorsRow').length){elem.parent().css('display','inline-block');}}else{elem.hide();elem.find('input').prop('checked',false);if(elem.parent().hasClass('wpfColorsColBlock')){elem.parent().parent().hide();}
if(elem.closest('.wpfColorsRow').length){elem.parent().hide();}}});if(filter.attr('data-display-type')=='slider'){if(typeof(wpfPage.updateAttrSlider)=='function'){wpfPage.updateAttrSlider(filter,termIds);}}else{var hideSingle=filter.attr('data-hide-single')=='1',preSelector=hideSingle&&filter.find('select[multiple]').length?'option':'',selector=hideSingle&&filter.find('.wpfColorsFilter').length?'li[data-term-slug]':'[data-term-id]',cntAll=filter.find(preSelector+selector).length,cntHidden=filter.find(preSelector+selector+'[style*="none"]').length,limit=hideSingle?1:0;if(cntAll-cntHidden<=limit){filter.hide();}else{filter.show();}}}else{filter.find('input').prop('checked',false);filter.find('select').val('');filter.hide();}}
var multi=filter.find('select[multiple]');if(multi.length)multi.multiselect('reload');if(typeof(window.wpfFrontendPage.wpfShowHideFiltersAttsPro)=='function'){window.wpfFrontendPage.wpfShowHideFiltersAttsPro(filter);}
break;default:}});wpfPage.removeHiddenOptionsForSafari();}
function wpfChangePriceFiltersCount(prices){var _thisObj=window.wpfFrontendPage,noWooPage=_thisObj.noWoo,filterWrapper=jQuery('.wpfMainWrapper'),priceFilters=jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"].wpfNotActive');jQuery('.wpfFilterWrapper[data-filter-type="wpfPrice"]').each(function(){var wpfPrice=jQuery(this);wpfPrice.attr('data-minvalue',prices.wpf_min_price).attr('data-maxvalue',prices.wpf_max_price);wpfPrice.find('#wpfMinPrice').attr('min',prices.wpf_min_price).val(prices.wpf_min_price);wpfPrice.find('#wpfMaxPrice').attr('max',prices.wpf_max_price).val(prices.wpf_max_price);if(wpfPrice.find(".ion-range-slider").length){wpfPrice.find(".ion-range-slider").each(function(){jQuery(this).attr('data-min',prices.wpf_min_price).attr('data-max',prices.wpf_max_price);var ionSlider=jQuery(this).data("ionRangeSlider");ionSlider.update({min:prices.wpf_min_price,max:prices.wpf_max_price,});});}});window.wpfFrontendPage.eventsPriceFilter();}
function hideFilterLoader(wrapper){wrapper.find('.wpfLoaderLayout').hide();wrapper.css({position:''});wrapper.find('.wpfFilterWrapper').css({visibility:'inherit'});}
function heightIdenticalInRow(selector){var setMaxHeight=function(elements){if(elements.length>1){var elementHeightMax=elements[0].height;for(var j=1;j<elements.length;j++){if(elements[j].height>elementHeightMax){elementHeightMax=elements[j].height;}}
for(var j=0;j<elements.length;j++){jQuery(elements[j].selector).height(elementHeightMax);}}};var elementsHeight=[];var rowIndex=0;var elementIndex=0;jQuery(selector).each(function(index,element){if(!elementsHeight[rowIndex]){elementsHeight[rowIndex]=[];}
if(elementsHeight[rowIndex][elementsHeight[rowIndex].length-1]&&elementsHeight[rowIndex][elementsHeight[rowIndex].length-1].top&&elementsHeight[rowIndex][elementsHeight[rowIndex].length-1].top!==jQuery(element).offset().top){setMaxHeight(elementsHeight[rowIndex]);rowIndex++;}
if(!elementsHeight[rowIndex]){elementsHeight[rowIndex]=[];}
elementsHeight[rowIndex].push({selector:selector+':eq('+elementIndex+')',height:jQuery(element).height(),top:jQuery(element).offset().top});elementIndex++;});if(elementsHeight[rowIndex]){setMaxHeight(elementsHeight[rowIndex]);}}
function wpfDoActionsAfterLoad(fid,isFound,requestData){if(typeof(window.wpfFrontendPage.saveStatistics)=='function'){window.wpfFrontendPage.saveStatistics(fid,isFound,requestData);}}
;/**
 * Isotope
 * 3.0.6 | https://isotope.metafizzy.co
 */
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function u(t,e,o){var n,s="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void r(s+" is not a valid method");var l=d.apply(h,o);n=void 0===n?l:n}),void 0!==n?n:t}function h(t,e){t.each(function(t,o){var n=a.data(o,i);n?(n.option(e),n._init()):(n=new s(o,e),a.data(o,i,n))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=n.call(arguments,1);return u(this,t,e)}return h(this,t),this},o(a))}function o(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return o(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},o=i[t]=i[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},o=i[t]=i[t]||{};return o[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=i.indexOf(e);return o!=-1&&i.splice(o,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var o=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var s=i[n],r=o&&o[s];r&&(this.off(t,s),delete o[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<h;e++){var i=u[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function n(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=o(e);r=200==Math.round(t(n.width)),s.isBoxSizeOuter=r,i.removeChild(e)}}function s(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=o(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,l=0;l<h;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,z=a.borderTopWidth+a.borderBottomWidth,I=d&&r,x=t(s.width);x!==!1&&(a.width=x+(I?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(I?0:y+z)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+z),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var o=e[i],n=o+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var o=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?o.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,o){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!o)return void n.push(t);e(t,o)&&n.push(t);for(var i=t.querySelectorAll(o),s=0;s<i.length;s++)n.push(i[s])}}),n},i.debounceMethod=function(t,e,i){i=i||100;var o=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,s=this;this[n]=setTimeout(function(){o.apply(s,e),delete s[n]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),u=document.querySelectorAll(".js-"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+"-options",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],h={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=o.prototype=Object.create(t.prototype);d.constructor=o,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var o=h[i]||i;e[o]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=t[e?"left":"right"],n=t[i?"top":"bottom"],s=parseFloat(o),r=parseFloat(n),a=this.layout.size;o.indexOf("%")!=-1&&(s=s/100*a.width),n.indexOf("%")!=-1&&(r=r/100*a.height),s=isNaN(s)?0:s,r=isNaN(r)?0:r,s-=e?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=r},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[n];e[s]=this.getXValue(a),e[r]="";var u=o?"paddingTop":"paddingBottom",h=o?"top":"bottom",d=o?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),n&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,r=e-o,a={};a.transform=this.getTranslate(s,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop");return t=i?t:-t,e=o?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+n(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,o,n,s){return e(t,i,o,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,o,n){"use strict";function s(t,e){var i=o.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var n=++l;this.element.outlayerGUID=n,f[n]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],o=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var n=m[o]||1;return i*n}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace="outlayer",s.Item=n,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=s.prototype;o.extend(c,e.prototype),c.option=function(t){o.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0;n<e.length;n++){var s=e[n],r=new i(s,this);o.push(r)}return o},c._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var o,n=this.options[t];n?("string"==typeof n?o=this.element.querySelector(n):n instanceof HTMLElement&&(o=n),this[t]=o?i(o)[e]:n):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var o=this._getItemLayoutPosition(t);o.item=t,o.isInstant=e||t.isLayoutInstant,i.push(o)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,o,n){o?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}function o(){r++,r==s&&i()}var n=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,o)})},c.dispatchEvent=function(t,e,i){var o=e?[e].concat(i):i;if(this.emitEvent(t,o),h)if(this.$element=this.$element||h(this.element),e){var n=h.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){o.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,n=i(t),s={left:e.left-o.left-n.marginLeft,top:e.top-o.top-n.marginTop,right:o.right-e.right-n.marginRight,bottom:o.bottom-e.bottom-n.marginBottom};return s},c.handleEvent=o.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=o.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),o.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=o.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=o.extend({},s.defaults),o.extend(i.defaults,e),i.compatOptions=o.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(n),o.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=n,s}),function(t,e){"function"==typeof define&&define.amd?define("isotope-layout/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),o=i._create;i._create=function(){this.id=this.layout.itemGUID++,o.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var n=i.destroy;return i.destroy=function(){n.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var o=i.prototype,n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return n.forEach(function(t){o[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},o.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=Object.create(o),n.prototype.constructor=n,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry-layout/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var o=i.prototype;return o._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},o.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var o=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,s=n/o,r=o-n%o,a=r&&r<1?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},o.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,o=e(i);this.containerWidth=o&&o.innerWidth},o._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var n=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",s=this[n](o,t),r={x:this.columnWidth*s.col,y:s.y},a=s.y+t.size.outerHeight,u=o+s.col,h=s.col;h<u;h++)this.colYs[h]=a;return r},o._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},o._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;o<i;o++)e[o]=this._getColGroupY(o,t);return e},o._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},o._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,o=t>1&&i+t>this.cols;i=o?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},o._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this._getOption("originLeft"),s=n?o.left:o.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?o.top:o.bottom)+i.outerHeight,l=a;l<=u;l++)this.colYs[l]=Math.max(d,this.colYs[l])},o._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},o._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/masonry",["../layout-mode","masonry-layout/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),o=i.prototype,n={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)n[s]||(o[s]=e.prototype[s]);var r=o.measureColumns;o.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=o._getOption;return o._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope-layout/js/item","isotope-layout/js/layout-mode","isotope-layout/js/layout-modes/masonry","isotope-layout/js/layout-modes/fit-rows","isotope-layout/js/layout-modes/vertical"],function(i,o,n,s,r,a){return e(t,i,o,n,s,r,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope-layout/js/item"),require("isotope-layout/js/layout-mode"),require("isotope-layout/js/layout-modes/masonry"),require("isotope-layout/js/layout-modes/fit-rows"),require("isotope-layout/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,o,n,s,r){function a(t,e){return function(i,o){for(var n=0;n<t.length;n++){var s=t[n],r=i.sortData[s],a=o.sortData[s];if(r>a||r<a){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var o=t[i];o.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?n.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&o&&n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}var e,i,o,n=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){o=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],o=[],n=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?o.push(a):u||a.isHidden||n.push(a)}}return{matches:i,needReveal:o,needHide:n}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t);
}:"function"==typeof t?function(e){return t(e.element)}:function(e){return o(e.element,t)}},l.updateSortData=function(t){var e;t?(t=n.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){var o=t[i];o.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),s=n&&n[1],r=e(s,o),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){if(this.options.sortBy){var t=n.makeArray(this.options.sortBy);this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory));var e=a(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)}},l._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;i<n;i++)o=e[i],this.element.appendChild(o.element);var s=this._filter(e).matches;for(i=0;i<n;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<n;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=n.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,o=0;i&&o<i;o++){var s=e[o];n.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.apply(this,e);return this.options.transitionDuration=i,o},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});
;/*! jQuery UI - v1.12.1 - 2017-01-03
* http://jqueryui.com
* Includes: effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(b){b.ui=b.ui||{},b.ui.version="1.12.1";var d="ui-effects-",a="ui-effects-style",c="ui-effects-animated",g=b;b.effects={effect:{}},function(E,z){function w(l,o,h){var n=D[o.type]||{};return null==l?h||!o.def?null:o.def:(l=n.floor?~~l:parseFloat(l),isNaN(l)?o.def:n.mod?(l+n.mod)%n.mod:0>l?0:l>n.max?n.max:l)}function F(e){var h=x(),l=h._rgba=[];return e=e.toLowerCase(),y(v,function(p,G){var n,u=G.re.exec(e),i=u&&G.parse(u),s=G.space||"rgba";return i?(n=h[s](i),h[B[s].cache]=n[B[s].cache],l=h._rgba=n._rgba,!1):z}),l.length?("0,0,0,0"===l.join()&&E.extend(l,m.transparent),h):m[e]}function q(l,n,h){return h=(h+1)%1,1>6*h?l+6*(n-l)*h:1>2*h?n:2>3*h?l+6*(n-l)*(2/3-h):l}var m,C="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",j=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],x=E.Color=function(o,h,l,p){return new E.Color.fn.parse(o,h,l,p)},B={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},D={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=x.support={},k=E("<p>")[0],y=E.each;k.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=k.style.backgroundColor.indexOf("rgba")>-1,y(B,function(h,i){i.cache="_"+h,i.props.alpha={idx:3,type:"percent",def:1}}),x.fn=E.extend(x.prototype,{parse:function(G,h,o,e){if(G===z){return this._rgba=[null,null,null,null],this}(G.jquery||G.nodeType)&&(G=E(G).css(h),h=z);var i=this,t=E.type(G),s=this._rgba=[];return h!==z&&(G=[G,h,o,e],t="array"),"string"===t?this.parse(F(G)||m._default):"array"===t?(y(B.rgba.props,function(l,n){s[n.idx]=w(G[n.idx],n)}),this):"object"===t?(G instanceof x?y(B,function(l,n){G[n.cache]&&(i[n.cache]=G[n.cache].slice())}):y(B,function(n,l){var p=l.cache;y(l.props,function(r,u){if(!i[p]&&l.to){if("alpha"===r||null==G[r]){return}i[p]=l.to(i._rgba)}i[p][u.idx]=w(G[r],u,!0)}),i[p]&&0>E.inArray(null,i[p].slice(0,3))&&(i[p][3]=1,l.from&&(i._rgba=l.from(i[p])))}),this):z},is:function(h){var e=x(h),l=!0,o=this;return y(B,function(n,s){var i,p=e[s.cache];return p&&(i=o[s.cache]||s.to&&s.to(o._rgba)||[],y(s.props,function(u,r){return null!=p[r.idx]?l=p[r.idx]===i[r.idx]:z})),l}),l},_space:function(){var h=[],i=this;return y(B,function(e,l){i[l.cache]&&h.push(e)}),h.pop()},transition:function(p,H){var u=x(p),J=u._space(),I=B[J],i=0===this.alpha()?x("transparent"):this,G=i[I.cache]||I.to(i._rgba),h=G.slice();return u=u[I.cache],y(I.props,function(l,L){var s=L.idx,e=G[s],r=u[s],K=D[L.type]||{};null!==r&&(null===e?h[s]=r:(K.mod&&(r-e>K.mod/2?e+=K.mod:e-r>K.mod/2&&(e-=K.mod)),h[s]=w((r-e)*H+e,L)))}),this[J](h)},blend:function(o){if(1===this._rgba[3]){return this}var h=this._rgba.slice(),l=h.pop(),p=x(o)._rgba;return x(E.map(h,function(i,n){return(1-l)*p[n]+l*i}))},toRgbaString:function(){var l="rgba(",h=E.map(this._rgba,function(i,n){return null==i?n>2?1:0:i});return 1===h[3]&&(h.pop(),l="rgb("),l+h.join()+")"},toHslaString:function(){var l="hsla(",h=E.map(this.hsla(),function(i,n){return null==i&&(i=n>2?1:0),n&&3>n&&(i=Math.round(100*i)+"%"),i});return 1===h[3]&&(h.pop(),l="hsl("),l+h.join()+")"},toHexString:function(n){var h=this._rgba.slice(),l=h.pop();return n&&h.push(~~(255*l)),"#"+E.map(h,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),x.fn.parse.prototype=x.fn,B.hsla.to=function(P){if(null==P[0]||null==P[1]||null==P[2]){return[null,null,null,P[3]]}var L,J,Q=P[0]/255,H=P[1]/255,G=P[2]/255,N=P[3],p=Math.max(Q,H,G),I=Math.min(Q,H,G),K=p-I,M=p+I,O=0.5*M;return L=I===p?0:Q===p?60*(H-G)/K+360:H===p?60*(G-Q)/K+120:60*(Q-H)/K+240,J=0===K?0:0.5>=O?K/M:K/(2-M),[Math.round(L)%360,J,O,null==N?1:N]},B.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2]){return[null,null,null,n[3]]}var G=n[0]/360,l=n[1],p=n[2],H=n[3],h=0.5>=p?p*(1+l):p+l-p*l,u=2*p-h;return[Math.round(255*q(u,h,G+1/3)),Math.round(255*q(u,h,G)),Math.round(255*q(u,h,G-1/3)),H]},y(B,function(i,t){var p=t.props,h=t.cache,e=t.to,r=t.from;x.fn[i]=function(o){if(e&&!this[h]&&(this[h]=e(this._rgba)),o===z){return this[h].slice()}var I,G=E.type(o),l="array"===G||"object"===G?o:arguments,H=this[h].slice();return y(p,function(n,J){var u=l["object"===G?n:J.idx];null==u&&(u=H[J.idx]),H[J.idx]=w(u,J)}),r?(I=x(r(H)),I[h]=H,I):x(H)},y(p,function(n,l){x.fn[n]||(x.fn[n]=function(J){var H,u=E.type(J),s="alpha"===n?this._hsla?"hsla":"rgba":i,G=this[s](),I=G[l.idx];return"undefined"===u?I:("function"===u&&(J=J.call(this,I),u=E.type(J)),null==J&&l.empty?this:("string"===u&&(H=j.exec(J),H&&(J=I+parseFloat(H[2])*("+"===H[1]?1:-1))),G[l.idx]=J,this[s](G)))})})}),x.hook=function(l){var h=l.split(" ");y(h,function(o,n){E.cssHooks[n]={set:function(t,G){var u,p,s="";if("transparent"!==G&&("string"!==E.type(G)||(u=F(G)))){if(G=x(u||G),!A.rgba&&1!==G._rgba[3]){for(p="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&p&&p.style;){try{s=E.css(p,"backgroundColor"),p=p.parentNode}catch(i){}}G=G.blend(s&&"transparent"!==s?s:"_default")}G=G.toRgbaString()}try{t.style[n]=G}catch(i){}}},E.fx.step[n]=function(i){i.colorInit||(i.start=x(i.elem,n),i.end=x(i.end),i.colorInit=!0),E.cssHooks[n].set(i.elem,i.start.transition(i.end,i.pos))}})},x.hook(C),E.cssHooks.borderColor={expand:function(h){var i={};return y(["Top","Right","Bottom","Left"],function(e,l){i["border"+l+"Color"]=h}),i}},m=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(g),function(){function k(q){var m,p,t=q.ownerDocument.defaultView?q.ownerDocument.defaultView.getComputedStyle(q,null):q.currentStyle,r={};if(t&&t.length&&t[0]&&t[t[0]]){for(p=t.length;p--;){m=t[p],"string"==typeof t[m]&&(r[b.camelCase(m)]=t[m])}}else{for(m in t){"string"==typeof t[m]&&(r[m]=t[m])}}return r}function h(q,o){var p,r,m={};for(p in o){r=o[p],q[p]!==r&&(l[p]||(b.fx.step[p]||!isNaN(parseFloat(r)))&&(m[p]=r))}return m}var j=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,m){b.fx.step[m]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,m,e.end),e.setAttr=!0)}}),b.fn.addBack||(b.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),b.effects.animateClass=function(q,p,i,m){var e=b.speed(p,i,m);return this.queue(function(){var u,n=b(this),t=n.attr("class")||"",s=e.children?n.find("*").addBack():n;s=s.map(function(){var o=b(this);return{el:o,start:k(this)}}),u=function(){b.each(j,function(o,r){q[r]&&n[r+"Class"](q[r])})},u(),s=s.map(function(){return this.end=k(this.el[0]),this.diff=h(this.start,this.end),this}),n.attr("class",t),s=s.map(function(){var v=this,o=b.Deferred(),r=b.extend({},e,{queue:!1,complete:function(){o.resolve(v)}});return this.el.animate(this.diff,r),o.promise()}),b.when.apply(b,s.get()).done(function(){u(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"")})}),e.complete.call(n[0])})})},b.fn.extend({addClass:function(i){return function(e,m,q,p){return m?b.effects.animateClass.call(this,{add:e},m,q,p):i.apply(this,arguments)}}(b.fn.addClass),removeClass:function(i){return function(e,m,q,p){return arguments.length>1?b.effects.animateClass.call(this,{remove:e},m,q,p):i.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(i){return function(m,p,r,q,e){return"boolean"==typeof p||void 0===p?r?b.effects.animateClass.call(this,p?{add:m}:{remove:m},r,q,e):i.apply(this,arguments):b.effects.animateClass.call(this,{toggle:m},p,r,q)}}(b.fn.toggleClass),switchClass:function(q,m,p,t,r){return b.effects.animateClass.call(this,{add:m,remove:q},p,t,r)}})}(),function(){function i(l,j,k,m){return b.isPlainObject(l)&&(j=l,l=l.effect),l={effect:l},null==j&&(j={}),b.isFunction(j)&&(m=j,k=null,j={}),("number"==typeof j||b.fx.speeds[j])&&(m=k,k=j,j={}),b.isFunction(k)&&(m=k,k=null),j&&b.extend(l,j),k=k||j.duration,l.duration=b.fx.off?0:"number"==typeof k?k:k in b.fx.speeds?b.fx.speeds[k]:b.fx.speeds._default,l.complete=m||j.complete,l}function h(j){return !j||"number"==typeof j||b.fx.speeds[j]?!0:"string"!=typeof j||b.effects.effect[j]?b.isFunction(j)?!0:"object"!=typeof j||j.effect?!1:!0:!0}function e(k,m){var j=m.outerWidth(),l=m.outerHeight(),q=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,p=q.exec(k)||["",0,j,l,0];return{top:parseFloat(p[1])||0,right:"auto"===p[2]?j:parseFloat(p[2]),bottom:"auto"===p[3]?l:parseFloat(p[3]),left:parseFloat(p[4])||0}}b.expr&&b.expr.filters&&b.expr.filters.animated&&(b.expr.filters.animated=function(j){return function(k){return !!b(k).data(c)||j(k)}}(b.expr.filters.animated)),b.uiBackCompat!==!1&&b.extend(b.effects,{save:function(k,j){for(var l=0,m=j.length;m>l;l++){null!==j[l]&&k.data(d+j[l],k[0].style[j[l]])}},restore:function(k,j){for(var l,p=0,m=j.length;m>p;p++){null!==j[p]&&(l=k.data(d+j[p]),k.css(j[p],l))}},setMode:function(j,k){return"toggle"===k&&(k=j.is(":hidden")?"show":"hide"),k},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent()}var k={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},l=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),q={width:m.width(),height:m.height()},p=document.activeElement;try{p.id}catch(j){p=document.body}return m.wrap(l),(m[0]===p||b.contains(m[0],p))&&b(p).trigger("focus"),l=m.parent(),"static"===m.css("position")?(l.css({position:"relative"}),m.css({position:"relative"})):(b.extend(k,{position:m.css("position"),zIndex:m.css("z-index")}),b.each(["top","left","bottom","right"],function(n,o){k[o]=m.css(o),isNaN(parseInt(k[o],10))&&(k[o]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(q),l.css(k).show()},removeWrapper:function(k){var j=document.activeElement;return k.parent().is(".ui-effects-wrapper")&&(k.parent().replaceWith(k),(k[0]===j||b.contains(k[0],j))&&b(j).trigger("focus")),k}}),b.extend(b.effects,{version:"1.12.1",define:function(l,j,k){return k||(k=j,j="effect"),b.effects.effect[l]=k,b.effects.effect[l].mode=j,k},scaledDimensions:function(k,m,j){if(0===m){return{height:0,width:0,outerHeight:0,outerWidth:0}}var l="horizontal"!==j?(m||100)/100:1,o="vertical"!==j?(m||100)/100:1;return{height:k.height()*o,width:k.width()*l,outerHeight:k.outerHeight()*o,outerWidth:k.outerWidth()*l}},clipToBox:function(j){return{width:j.clip.right-j.clip.left,height:j.clip.bottom-j.clip.top,left:j.clip.left,top:j.clip.top}},unshift:function(k,m,j){var l=k.queue();m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,j))),k.dequeue()},saveStyle:function(j){j.data(a,j[0].style.cssText)},restoreStyle:function(j){j[0].style.cssText=j.data(a)||"",j.removeData(a)},mode:function(k,l){var j=k.is(":hidden");return"toggle"===l&&(l=j?"show":"hide"),(j?"hide"===l:"show"===l)&&(l="none"),l},getBaseline:function(k,m){var j,l;switch(k[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=k[0]/m.height}switch(k[1]){case"left":l=0;break;case"center":l=0.5;break;case"right":l=1;break;default:l=k[1]/m.width}return{x:l,y:j}},createPlaceholder:function(j){var k,m=j.css("position"),l=j.position();return j.css({marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()),/^(static|relative)/.test(m)&&(m="absolute",k=b("<"+j[0].nodeName+">").insertAfter(j).css({display:/^(inline|ruby)/.test(j.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight"),"float":j.css("float")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()).addClass("ui-effects-placeholder"),j.data(d+"placeholder",k)),j.css({position:m,left:l.left,top:l.top}),k},removePlaceholder:function(k){var j=d+"placeholder",l=k.data(j);l&&(l.remove(),k.removeData(j))},cleanUp:function(j){b.effects.restoreStyle(j),b.effects.removePlaceholder(j)},setTransition:function(l,j,k,m){return m=m||{},b.each(j,function(p,n){var q=l.cssUnit(n);q[0]>0&&(m[n]=q[0]*k+q[1])}),m}}),b.fn.extend({effect:function(){function q(x){function y(){o.removeData(c),b.effects.cleanUp(o),"hide"===n.mode&&o.hide(),u()}function u(){b.isFunction(p)&&p.call(o[0]),b.isFunction(x)&&x()}var o=b(this);n.mode=w.shift(),b.uiBackCompat===!1||v?"none"===n.mode?(o[t](),u()):k.call(o[0],n,y):(o.is(":hidden")?"hide"===t:"show"===t)?(o[t](),u()):k.call(o[0],n,u)}var n=i.apply(this,arguments),k=b.effects.effect[n.effect],v=k.mode,j=n.queue,m=j||"fx",p=n.complete,t=n.mode,w=[],s=function(o){var l=b(this),r=b.effects.mode(l,t)||v;l.data(c,!0),w.push(r),v&&("show"===r||r===v&&"hide"===r)&&l.show(),v&&"none"===r||b.effects.saveStyle(l),b.isFunction(o)&&o()};return b.fx.off||!k?t?this[t](n.duration,p):this.each(function(){p&&p.call(this)}):j===!1?this.each(s).each(q):this.queue(m,s).queue(m,q)},show:function(j){return function(l){if(h(l)){return j.apply(this,arguments)}var k=i.apply(this,arguments);return k.mode="show",this.effect.call(this,k)}}(b.fn.show),hide:function(j){return function(l){if(h(l)){return j.apply(this,arguments)}var k=i.apply(this,arguments);return k.mode="hide",this.effect.call(this,k)}}(b.fn.hide),toggle:function(j){return function(l){if(h(l)||"boolean"==typeof l){return j.apply(this,arguments)}var k=i.apply(this,arguments);return k.mode="toggle",this.effect.call(this,k)}}(b.fn.toggle),cssUnit:function(l){var j=this.css(l),k=[];return b.each(["em","px","%","pt"],function(m,n){j.indexOf(n)>0&&(k=[parseFloat(j),n])}),k},cssClip:function(j){return j?this.css("clip","rect("+j.top+"px "+j.right+"px "+j.bottom+"px "+j.left+"px)"):e(this.css("clip"),this)},transfer:function(v,q){var A=b(this),m=b(v.to),k="fixed"===m.css("position"),y=b("body"),j=k?y.scrollTop():0,p=k?y.scrollLeft():0,t=m.offset(),x={top:t.top-j,left:t.left-p,height:m.innerHeight(),width:m.innerWidth()},z=A.offset(),w=b("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(v.className).css({top:z.top-j,left:z.left-p,height:A.innerHeight(),width:A.innerWidth(),position:k?"fixed":"absolute"}).animate(x,v.duration,v.easing,function(){w.remove(),b.isFunction(q)&&q()})}}),b.fx.step.clip=function(j){j.clipInit||(j.start=b(j.elem).cssClip(),"string"==typeof j.end&&(j.end=e(j.end,j.elem)),j.clipInit=!0),b(j.elem).cssClip({top:j.pos*(j.end.top-j.start.top)+j.start.top,right:j.pos*(j.end.right-j.start.right)+j.start.right,bottom:j.pos*(j.end.bottom-j.start.bottom)+j.start.bottom,left:j.pos*(j.end.left-j.start.left)+j.start.left})}}(),function(){var h={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(j,e){h[e]=function(i){return Math.pow(i,j+2)}}),b.extend(h,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(k){for(var l,j=4;((l=Math.pow(2,--j))-1)/11>k;){}return 1/Math.pow(4,3-j)-7.5625*Math.pow((3*l-2)/22-k,2)}}),b.each(h,function(k,j){b.easing["easeIn"+k]=j,b.easing["easeOut"+k]=function(e){return 1-j(1-e)},b.easing["easeInOut"+k]=function(e){return 0.5>e?j(2*e)/2:1-j(-2*e+2)/2}})}();var f=b.effects;b.effects.define("blind","hide",function(q,k){var m={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=b(this),t=q.direction||"up",j=u.cssClip(),p={clip:b.extend({},j)},h=b.effects.createPlaceholder(u);p.clip[m[t][0]]=p.clip[m[t][1]],"show"===q.mode&&(u.cssClip(p.clip),h&&h.css(b.effects.clipToBox(p)),p.clip=j),h&&h.animate(b.effects.clipToBox(p),q.duration,q.easing),u.animate(p,{queue:!1,duration:q.duration,easing:q.easing,complete:k})}),b.effects.define("bounce",function(F,B){var q,y,x,J=b(this),t=F.mode,A="hide"===t,C="show"===t,H=F.direction||"up",k=F.distance,G=F.times||5,w=2*G+(C||A?1:0),E=F.duration/w,D=F.easing,z="up"===H||"down"===H?"top":"left",K="up"===H||"left"===H,j=0,I=J.queue().length;for(b.effects.createPlaceholder(J),x=J.css(z),k||(k=J["top"===z?"outerHeight":"outerWidth"]()/3),C&&(y={opacity:1},y[z]=x,J.css("opacity",0).css(z,K?2*-k:2*k).animate(y,E,D)),A&&(k/=Math.pow(2,G-1)),y={},y[z]=x;G>j;j++){q={},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D).animate(y,E,D),k=A?2*k:k/2}A&&(q={opacity:0},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D)),J.queue(B),b.effects.unshift(J,I,w+1)}),b.effects.define("clip","hide",function(u,q){var w,m={},k=b(this),v=u.direction||"vertical",j="both"===v,p=j||"horizontal"===v,t=j||"vertical"===v;w=k.cssClip(),m.clip={top:t?(w.bottom-w.top)/2:w.top,right:p?(w.right-w.left)/2:w.right,bottom:t?(w.bottom-w.top)/2:w.bottom,left:p?(w.right-w.left)/2:w.left},b.effects.createPlaceholder(k),"show"===u.mode&&(k.cssClip(m.clip),m.clip=w),k.animate(m,{queue:!1,duration:u.duration,easing:u.easing,complete:q})}),b.effects.define("drop","hide",function(v,q){var z,m=b(this),k=v.mode,x="show"===k,j=v.direction||"left",p="up"===j||"down"===j?"top":"left",t="up"===j||"left"===j?"-=":"+=",w="+="===t?"-=":"+=",y={opacity:0};b.effects.createPlaceholder(m),z=v.distance||m["top"===p?"outerHeight":"outerWidth"](!0)/2,y[p]=t+z,x&&(m.css(y),y[p]=w+z,y.opacity=1),m.animate(y,{queue:!1,duration:v.duration,easing:v.easing,complete:q})}),b.effects.define("explode","hide",function(F,B){function q(){I.push(this),I.length===k*G&&y()}function y(){w.css({visibility:"visible"}),b(I).remove(),B()}var x,J,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=b(this),E=F.mode,D="show"===E,z=w.show().css("visibility","hidden").offset(),K=Math.ceil(w.outerWidth()/G),j=Math.ceil(w.outerHeight()/k),I=[];for(x=0;k>x;x++){for(A=z.top+x*j,H=x-(k-1)/2,J=0;G>J;J++){t=z.left+J*K,C=J-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-J*K,top:-x*j}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:K,height:j,left:t+(D?C*K:0),top:A+(D?H*j:0),opacity:D?0:1}).animate({left:t+(D?0:C*K),top:A+(D?0:H*j),opacity:D?1:0},F.duration||500,F.easing,q)}}}),b.effects.define("fade","toggle",function(k,h){var j="show"===k.mode;b(this).css("opacity",j?0:1).animate({opacity:j?1:0},{queue:!1,duration:k.duration,easing:k.easing,complete:h})}),b.effects.define("fold","hide",function(B,x){var H=b(this),t=B.mode,q="show"===t,E="hide"===t,j=B.size||15,w=/([0-9]+)%/.exec(j),y=!!B.horizFirst,D=y?["right","bottom"]:["bottom","right"],G=B.duration/2,C=b.effects.createPlaceholder(H),k=H.cssClip(),A={clip:b.extend({},k)},z={clip:b.extend({},k)},v=[k[D[0]],k[D[1]]],F=H.queue().length;w&&(j=parseInt(w[1],10)/100*v[E?0:1]),A.clip[D[0]]=j,z.clip[D[0]]=j,z.clip[D[1]]=0,q&&(H.cssClip(z.clip),C&&C.css(b.effects.clipToBox(z)),z.clip=k),H.queue(function(e){C&&C.animate(b.effects.clipToBox(A),G,B.easing).animate(b.effects.clipToBox(z),G,B.easing),e()}).animate(A,G,B.easing).animate(z,G,B.easing).queue(x),b.effects.unshift(H,F,4)}),b.effects.define("highlight","show",function(k,h){var j=b(this),l={backgroundColor:j.css("backgroundColor")};"hide"===k.mode&&(l.opacity=0),b.effects.saveStyle(j),j.css({backgroundImage:"none",backgroundColor:k.color||"#ffff99"}).animate(l,{queue:!1,duration:k.duration,easing:k.easing,complete:h})}),b.effects.define("size",function(F,B){var q,y,x,I=b(this),t=["fontSize"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],C=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],H=F.mode,k="effect"!==H,G=F.scale||"both",w=F.origin||["middle","center"],E=I.css("position"),D=I.position(),z=b.effects.scaledDimensions(I),J=F.from||z,j=F.to||b.effects.scaledDimensions(I,0);b.effects.createPlaceholder(I),"show"===H&&(x=J,J=j,j=x),y={from:{y:J.height/z.height,x:J.width/z.width},to:{y:j.height/z.height,x:j.width/z.width}},("box"===G||"both"===G)&&(y.from.y!==y.to.y&&(J=b.effects.setTransition(I,A,y.from.y,J),j=b.effects.setTransition(I,A,y.to.y,j)),y.from.x!==y.to.x&&(J=b.effects.setTransition(I,C,y.from.x,J),j=b.effects.setTransition(I,C,y.to.x,j))),("content"===G||"both"===G)&&y.from.y!==y.to.y&&(J=b.effects.setTransition(I,t,y.from.y,J),j=b.effects.setTransition(I,t,y.to.y,j)),w&&(q=b.effects.getBaseline(w,z),J.top=(z.outerHeight-J.outerHeight)*q.y+D.top,J.left=(z.outerWidth-J.outerWidth)*q.x+D.left,j.top=(z.outerHeight-j.outerHeight)*q.y+D.top,j.left=(z.outerWidth-j.outerWidth)*q.x+D.left),I.css(J),("content"===G||"both"===G)&&(A=A.concat(["marginTop","marginBottom"]).concat(t),C=C.concat(["marginLeft","marginRight"]),I.find("*[width]").each(function(){var h=b(this),l=b.effects.scaledDimensions(h),m={height:l.height*y.from.y,width:l.width*y.from.x,outerHeight:l.outerHeight*y.from.y,outerWidth:l.outerWidth*y.from.x},e={height:l.height*y.to.y,width:l.width*y.to.x,outerHeight:l.height*y.to.y,outerWidth:l.width*y.to.x};y.from.y!==y.to.y&&(m=b.effects.setTransition(h,A,y.from.y,m),e=b.effects.setTransition(h,A,y.to.y,e)),y.from.x!==y.to.x&&(m=b.effects.setTransition(h,C,y.from.x,m),e=b.effects.setTransition(h,C,y.to.x,e)),k&&b.effects.saveStyle(h),h.css(m),h.animate(e,F.duration,F.easing,function(){k&&b.effects.restoreStyle(h)})})),I.animate(j,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){var h=I.offset();0===j.opacity&&I.css("opacity",J.opacity),k||(I.css("position","static"===E?"relative":E).offset(h),b.effects.saveStyle(I)),B()}})}),b.effects.define("scale",function(l,j){var k=b(this),p=l.mode,m=parseInt(l.percent,10)||(0===parseInt(l.percent,10)?0:"effect"!==p?0:100),h=b.extend(!0,{from:b.effects.scaledDimensions(k),to:b.effects.scaledDimensions(k,m,l.direction||"both"),origin:l.origin||["middle","center"]},l);l.fade&&(h.from.opacity=1,h.to.opacity=0),b.effects.effect.size.call(this,h,j)}),b.effects.define("puff","hide",function(k,h){var j=b.extend(!0,{},k,{fade:!0,percent:parseInt(k.percent,10)||150});b.effects.effect.scale.call(this,j,h)}),b.effects.define("pulsate","show",function(v,q){var A=b(this),m=v.mode,k="show"===m,y="hide"===m,j=k||y,p=2*(v.times||5)+(j?1:0),t=v.duration/p,x=0,z=1,w=A.queue().length;for((k||!A.is(":visible"))&&(A.css("opacity",0).show(),x=1);p>z;z++){A.animate({opacity:x},t,v.easing),x=1-x}A.animate({opacity:x},t,v.easing),A.queue(q),b.effects.unshift(A,w,p+1)}),b.effects.define("shake",function(z,v){var E=1,q=b(this),m=z.direction||"left",C=z.distance||20,j=z.times||3,t=2*j+1,w=Math.round(z.duration/t),B="up"===m||"down"===m?"top":"left",D="up"===m||"left"===m,A={},k={},y={},x=q.queue().length;for(b.effects.createPlaceholder(q),A[B]=(D?"-=":"+=")+C,k[B]=(D?"+=":"-=")+2*C,y[B]=(D?"-=":"+=")+2*C,q.animate(A,w,z.easing);j>E;E++){q.animate(k,w,z.easing).animate(y,w,z.easing)}q.animate(k,w,z.easing).animate(A,w/2,z.easing).queue(v),b.effects.unshift(q,x,t+1)}),b.effects.define("slide","show",function(v,q){var A,m,k=b(this),y={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},j=v.mode,p=v.direction||"left",t="up"===p||"down"===p?"top":"left",x="up"===p||"left"===p,z=v.distance||k["top"===t?"outerHeight":"outerWidth"](!0),w={};b.effects.createPlaceholder(k),A=k.cssClip(),m=k.position()[t],w[t]=(x?-1:1)*z+m,w.clip=k.cssClip(),w.clip[y[p][1]]=w.clip[y[p][0]],"show"===j&&(k.cssClip(w.clip),k.css(t,w[t]),w.clip=A,w[t]=m),k.animate(w,{queue:!1,duration:v.duration,easing:v.easing,complete:q})});var f;b.uiBackCompat!==!1&&(f=b.effects.define("transfer",function(j,h){b(this).transfer(j,h)}))});
;"use strict";(function(a){a(".modal-window-content .wow-modal-form").on("submit",function(b){b.preventDefault();let get_id=this.id;let dataform=a(this).serialize();let data="action=send_modal_window&"+dataform;a.post(send_modal_form.ajaxurl,data,function(c){a("#"+get_id).html(c)})});if(!a||typeof a==="undefined"){return console.log("[ModalWindow] No jQuery library detected. Load ModalWindow after jQuery has been loaded on the page.")}a.fn.ModalWindow=function(b){let _default={animation:["no",400,"no",400],overlay:true,overlay_css:["rgba(0, 0, 0, 0.7)"],modal_css:{},content_css:{},title_css:{},video:[false,false,false],action:["load",0],scrolled:[0,"px"],closeBtn:[false,0],autoClose:[false,5],closeAction:[false,false],screenMax:[false,1024],screenMin:[false,480],floatBtn:[false,"wow-modal-button","right"],floatBtnAnimation:[false,"no",5,"wow-animated"],cookie:[false,0,"cookie-name"],closeRedirect:[false,"",""],triggers:["modal-open","modal-close","close-btn"],zindex:"999999"};return this.each(function(){let settings=a.extend(true,{},_default,b);let self=this,id=self.id,screen=a(window).width();let video=m();function m(){let youtube=a(self).find('iframe[src*="youtube.com"]');let vimeo=a(self).find('iframe[src*="vimeo.com"]');if(youtube.length>0){return youtube}else{if(vimeo.length>0){return vimeo}else{return false}}}o();p();A();function o(){if(settings.overlay){l()}x();C();z();k()}function l(){let overlay=a(self);a(overlay).css({"z-index":settings.zindex-3,"background-color":settings.overlay_css[0]})}function C(){let popup=a(self).children(".wow-modal-window");a(popup).css("z-index",settings.zindex-1);a(popup).css(settings.modal_css)}function k(){let close=a(self).children(".mw-close-btn");a(close).css("z-index",settings.zindex)}function z(){if(a.isEmptyObject(settings.title_css)===false){let title=a(self).find(".mw-title");a(title).css(settings.title_css)}}function x(){let content=a(self).children(".modal-window-content");a(content).css(settings.content_css)}function E(){}function p(){if(g()===true){if(settings.cookie[0]===true){let modalCookie=n(settings.cookie[2]);if(modalCookie!==undefined){return}}let action=settings.action[0];switch(action){case"hover":t();break;case"load":q();break;case"close":h();break;case"scroll":e();break;case"rightclick":d();break;case"selectedtext":I();break}if(settings.floatBtnAnimation[0]===true){u()}H()}}function H(){let trigger=settings.triggers[0];let triggers="#"+trigger+", ."+trigger+', a[href$="'+trigger+'"]';a(triggers).on("click",function(J){J.preventDefault();B()})}function t(){let trigger=settings.triggers[0];let triggers="#"+trigger+", ."+trigger+', a[href$="'+trigger+'"]';a(triggers).on("mouseover",function(J){J.preventDefault();B()})}function A(){f();j();r()}function f(){let trigger=settings.triggers[1];let triggers="#"+trigger+", ."+trigger+', a[href$="'+trigger+'"], #'+settings.triggers[2];a(triggers).on("click",function(J){J.preventDefault();F()});a(self).find(".ds-close-popup").on("click",function(){F()})}function j(){if(settings.closeAction[0]===true){a(self).children(".wow-modal-overclose").on("click",function(){F()})}}function r(){if(settings.closeAction[1]===true){a(window).on("keydown",function(J){if(J.key==="Escape"||J.key==="Esc"){F()}})}}function B(){let speed=parseInt(settings.animation[1]);if(settings.overlay===true){a("html, body").addClass("no-scroll")}a(self).fadeIn(speed,function(){let pieces=settings.animation[0].split(":");if(pieces=="no"){a(self).children(".wow-modal-window").fadeIn(speed)}else{if(pieces=="fade"){a(self).children(".wow-modal-window").show("fade",speed)}else{switch(pieces[1]){case"direction":a(self).children(".wow-modal-window").show(pieces[0],{direction:pieces[2]},speed);break;case"times":a(self).children(".wow-modal-window").show(pieces[0],{times:pieces[2]},speed);break;case"pieces":a(self).children(".wow-modal-window").show(pieces[0],{pieces:pieces[2]},speed);break;case"size":a(self).children(".wow-modal-window").show(pieces[0],{size:pieces[2]},speed);break;case"percent":a(self).children(".wow-modal-window").show(pieces[0],{percent:pieces[2]},speed);break;case"color":a(self).children(".wow-modal-window").show(pieces[0],{color:pieces[2]},speed);break}}}});v();if(settings.closeBtn[0]!==true){w()}if(settings.autoClose[0]===true){D()}}function F(){let speed=parseInt(settings.animation[3]);let pieces=settings.animation[2].split(":");if(pieces=="no"){a(self).children(".wow-modal-window").fadeOut(speed,i())}else{if(pieces=="fade"){a(self).children(".wow-modal-window").hide("fade",speed,i())}else{switch(pieces[1]){case"direction":a(self).children(".wow-modal-window").hide(pieces[0],{direction:pieces[2]},speed,i());break;case"times":a(self).children(".wow-modal-window").hide(pieces[0],{times:pieces[2]},speed,i());break;case"pieces":a(self).children(".wow-modal-window").hide(pieces[0],{pieces:pieces[2]},speed,i());break;case"size":a(self).children(".wow-modal-window").hide(pieces[0],{size:pieces[2]},speed,i());break;case"percent":a(self).children(".wow-modal-window").hide(pieces[0],{percent:pieces[2]},speed,i());break;case"color":a(self).children(".wow-modal-window").hide(pieces[0],{color:pieces[2]},speed,i());break}}}G();c()}function i(){if(settings.overlay===true){let speed=parseFloat(settings.animation[3]);a(self).fadeOut(speed);s();a("html, body").removeClass("no-scroll")}}function q(){let delay=parseInt(settings.action[1])*1000;setTimeout(function(){B()},delay)}function D(){let timer=parseInt(settings.autoClose[1])*1000;setTimeout(function(){F()},timer)}function w(){let timer=parseInt(settings.closeBtn[1])*1000;setTimeout(function(){a(self).find(".mw-close-btn").show()},timer)}function g(){if(settings.screenMax[0]===true&&settings.screenMax[1]<screen){return false}if(settings.screenMin[0]===true&&settings.screenMin[1]>screen){return false}return true}function h(){a(document).on("mouseleave",function(J){if(J.clientY<0){B();a(document).off("mouseleave")}})}function e(){a(document).on("scroll",function(){let scrollTop=a(window).scrollTop();let docHeight=a(document).height();let winHeight=a(window).height();if(settings.scrolled[1]==="px"){let scrollY=a(this).scrollTop();let distance=(docHeight-winHeight)*parseInt(settings.scrolled[0])/100;if(scrollY>=distance){q();a(document).off("scroll")}}else{let scrollPercent=(scrollTop)/(docHeight-winHeight);let scrollPercentRounded=Math.round(scrollPercent*100);if(scrollPercentRounded>=parseInt(settings.scrolled[0])){q();a(document).off("scroll")}}})}function d(){a(document).on("contextmenu",function(){q();return false})}function I(){a(document).on("mouseup",function(J){let selected_text=((window.getSelection&&window.getSelection())||(document.getSelection&&document.getSelection())||(document.selection&&document.selection.createRange&&document.selection.createRange().text));if(selected_text.toString().length>2){q()}})}function c(){if(settings.closeRedirect[0]){let redirectUrl=settings.closeRedirect[1];if(redirectUrl!==""&&redirectUrl.indexOf("http")>-1){window.open(redirectUrl,settings.closeRedirect[2])}}}function v(){if((settings.video[0]===true)&&(settings.video[1]===true)&&video){let videoURL=a(video).attr("src");a(video).attr("src",videoURL+"?autoplay=1")}}function s(){if((settings.video[0]===true)&&(settings.video[2]===true)&&video){let videoURL=a(video).attr("src");videoURL=videoURL.split("?")[0];a(video).attr("src",videoURL+"?autoplay=0")}}function u(){a("."+settings.floatBtn[1]).addClass(settings.floatBtnAnimation[3]+" wow-infinite "+settings.floatBtnAnimation[1]+settings.floatBtn[2]);let time=parseFloat(settings.floatBtnAnimation[2])*1000;setTimeout(function(){a("."+settings.floatBtn[4]).removeClass(settings.floatBtnAnimation[3]+" wow-infinite "+settings.floatBtnAnimation[1]+settings.floatBtn[2]);y()},time)}function y(){let time=parseFloat(settings.floatBtnAnimation[2])*1000;setTimeout(function(){u()},time)}function G(){if(settings.cookie[0]!==true){return}let days=parseFloat(settings.cookie[1]);let CookieDate=new Date();CookieDate.setTime(CookieDate.getTime()+(days*24*60*60*1000));if(days>0){document.cookie=settings.cookie[2]+"=yes; path=/; expires="+CookieDate.toGMTString()}else{document.cookie=settings.cookie[2]+"=yes; path=/;"}}function n(J){let matches=document.cookie.match(new RegExp("(?:^|; )"+J.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):undefined}})}}(jQuery));